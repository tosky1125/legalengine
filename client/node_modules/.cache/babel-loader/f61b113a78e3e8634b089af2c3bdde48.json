{"ast":null,"code":"var _jsxFileName = \"/home/shawn/\\uBC14\\uD0D5\\uD654\\uBA74/project/carillon_codestates/client/src/components/SearchResult.js\";\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport Pagination from './Pagination';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\n\nclass SearchResult extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickSearch = (name, number, enforcement_date) => {\n      const {\n        lawinfo,\n        history\n      } = this.props;\n      axios.get(`http://13.125.112.243/search?lawName=${name}&lawNum=${number}&enfDate=${enforcement_date}`).then(res => {\n        lawinfo(res.data);\n        console.log(res.data);\n        this.setState({\n          isLoaded: true\n        });\n        history.push('/view');\n      }).catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n\n        console.log(err.config);\n      });\n    };\n\n    this.state = {\n      pageOfItems: [],\n      isLoaded: false\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  onChangePage(pageOfItems) {\n    // 데이터들의 새로운 페이지로 스테이트 업데이트\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  render() {\n    if (this.props.lawlist.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SearchBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-empty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"law-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"\\uCD1D \", this.props.lawlist.length, \" \\uAC1C\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-list text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, this.state.pageOfItems.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page\",\n      key: index,\n      onClick: () => this.handleClickSearch(item.name, item.number, item.enforcement_date),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, item.type, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, item.number, \"\\uD638\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"admendment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, item.amendment_status, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ministry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, item.ministry, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"promulgation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"\\uACF5\\uD3EC\\uC77C:\", ' ', format(new Date(item.promulgation_date), 'yyyy-MM-dd'), \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"enforcement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, \"\\uC2DC\\uD589\\uC77C:\", ' ', format(new Date(item.enforcement_date), 'yyyy-MM-dd')))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      items: this.props.lawlist,\n      onChangePage: this.onChangePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"credits text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, \"\\uC8FC\\uC2DD\\uD68C\\uC0AC \\uAE4C\\uB9AC\\uC6A9\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"\\xA9 2019 Carillon Inc., All rights reserved.\")));\n  }\n\n}\n\nexport default connect(state => ({\n  lawlist: state.searchlist.lawlist,\n  lawlistdetail: state.lawinfo.lawlistdetail\n}), dispatch => ({\n  searchlist: data => dispatch(searchlist.searchlist(data)),\n  lawinfo: data => dispatch(lawinfo.lawinfo(data))\n}))(withRouter(SearchResult));","map":{"version":3,"sources":["/home/shawn/바탕화면/project/carillon_codestates/client/src/components/SearchResult.js"],"names":["React","SearchBar","connect","searchlist","Pagination","axios","withRouter","lawinfo","format","SearchResult","Component","constructor","props","handleClickSearch","name","number","enforcement_date","history","get","then","res","data","console","log","setState","isLoaded","push","catch","err","status","headers","req","message","config","state","pageOfItems","onChangePage","bind","render","lawlist","length","map","item","index","type","amendment_status","ministry","Date","promulgation_date","lawlistdetail","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,UAAZ,MAA4B,uBAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,oBAAzB;AACA,OAAO,oBAAP;AACA,SAASC,MAAT,QAAuB,UAAvB;;AAEA,MAAMC,YAAN,SAA2BT,KAAK,CAACU,SAAjC,CAA2C;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAcnBC,iBAdmB,GAcC,CAACC,IAAD,EAAOC,MAAP,EAAeC,gBAAf,KAAoC;AACtD,YAAM;AAAET,QAAAA,OAAF;AAAWU,QAAAA;AAAX,UAAuB,KAAKL,KAAlC;AACAP,MAAAA,KAAK,CACFa,GADH,CACQ,wCAAuCJ,IAAK,WAAUC,MAAO,YAAWC,gBAAiB,EADjG,EAEGG,IAFH,CAESC,GAAD,IAAS;AACbb,QAAAA,OAAO,CAACa,GAAG,CAACC,IAAL,CAAP;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB;AACA,aAAKG,QAAL,CAAc;AACZC,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGAR,QAAAA,OAAO,CAACS,IAAR,CAAa,OAAb;AACD,OATH,EAUGC,KAVH,CAUS,UAAUC,GAAV,EAAe;AACpB,YAAIA,GAAG,CAACR,GAAR,EAAa;AACXE,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACR,GAAJ,CAAQC,IAApB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACR,GAAJ,CAAQS,MAApB;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACR,GAAJ,CAAQU,OAApB;AACD,SAJD,MAIO,IAAIF,GAAG,CAACG,GAAR,EAAa;AAClBT,UAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACG,GAAhB;AACD,SAFM,MAEA;AACLT,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBK,GAAG,CAACI,OAAzB;AACD;;AACDV,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACK,MAAhB;AACD,OArBH;AAsBD,KAtCkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,EADF;AAEXV,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKW,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDD,EAAAA,YAAY,CAACD,WAAD,EAAc;AACxB;AACA,SAAKX,QAAL,CAAc;AAAEW,MAAAA,WAAW,EAAEA;AAAf,KAAd;AACD;;AA2BDG,EAAAA,MAAM,GAAG;AACP,QAAI,KAAK1B,KAAL,CAAW2B,OAAX,CAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACnC,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEAFF,CADF;AAMD;;AACD,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA+B,KAAK5B,KAAL,CAAW2B,OAAX,CAAmBC,MAAlD,YAFF,eAGE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKN,KAAL,CAAWC,WAAX,CAAuBM,GAAvB,CAA2B,CAACC,IAAD,EAAOC,KAAP,kBAC1B;AACE,MAAA,SAAS,EAAC,MADZ;AAEE,MAAA,GAAG,EAAEA,KAFP;AAGE,MAAA,OAAO,EAAE,MACP,KAAK9B,iBAAL,CAAuB6B,IAAI,CAAC5B,IAA5B,EAAkC4B,IAAI,CAAC3B,MAAvC,EAA+C2B,IAAI,CAAC1B,gBAApD,CAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsB0B,IAAI,CAAC5B,IAA3B,CAPF,eAQE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB4B,IAAI,CAACE,IAA7B,SARF,eASE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BF,IAAI,CAAC3B,MAA/B,eATF,eAUE;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG2B,IAAI,CAACG,gBADR,SAVF,eAaE;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BH,IAAI,CAACI,QAAjC,SAbF,eAcE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACO,GADP,EAEGtC,MAAM,CAAC,IAAIuC,IAAJ,CAASL,IAAI,CAACM,iBAAd,CAAD,EAAmC,YAAnC,CAFT,SAdF,eAkBE;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACO,GADP,EAEGxC,MAAM,CAAC,IAAIuC,IAAJ,CAASL,IAAI,CAAC1B,gBAAd,CAAD,EAAkC,YAAlC,CAFT,CAlBF,CADD,CADH,eA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAW2B,OADpB;AAEE,MAAA,YAAY,EAAE,KAAKH,YAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA3BF,CAHF,CADF,eAuCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvCF,eAwCE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAJF,CAxCF,CADF;AAiDD;;AAlGwC;;AAqG3C,eAAelC,OAAO,CACnBgC,KAAD,KAAY;AACVK,EAAAA,OAAO,EAAEL,KAAK,CAAC/B,UAAN,CAAiBoC,OADhB;AAEVU,EAAAA,aAAa,EAAEf,KAAK,CAAC3B,OAAN,CAAc0C;AAFnB,CAAZ,CADoB,EAKnBC,QAAD,KAAe;AACb/C,EAAAA,UAAU,EAAGkB,IAAD,IAAU6B,QAAQ,CAAC/C,UAAU,CAACA,UAAX,CAAsBkB,IAAtB,CAAD,CADjB;AAEbd,EAAAA,OAAO,EAAGc,IAAD,IAAU6B,QAAQ,CAAC3C,OAAO,CAACA,OAAR,CAAgBc,IAAhB,CAAD;AAFd,CAAf,CALoB,CAAP,CASbf,UAAU,CAACG,YAAD,CATG,CAAf","sourcesContent":["import React from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport Pagination from './Pagination';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\n\nclass SearchResult extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageOfItems: [],\n      isLoaded: false,\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  onChangePage(pageOfItems) {\n    // 데이터들의 새로운 페이지로 스테이트 업데이트\n    this.setState({ pageOfItems: pageOfItems });\n  }\n\n  handleClickSearch = (name, number, enforcement_date) => {\n    const { lawinfo, history } = this.props;\n    axios\n      .get(`http://13.125.112.243/search?lawName=${name}&lawNum=${number}&enfDate=${enforcement_date}`)\n      .then((res) => {\n        lawinfo(res.data);\n        console.log(res.data);\n        this.setState({\n          isLoaded: true,\n        });\n        history.push('/view');\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n  render() {\n    if (this.props.lawlist.length === 0) {\n      return (\n        <div>\n          <SearchBar />\n          <div className='search-empty'>검색 결과가 없습니다.</div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div className='container'>\n          <SearchBar />\n          <div className='law-number'>총 {this.props.lawlist.length} 개</div>\n          <div className='page-list text-center'>\n            {this.state.pageOfItems.map((item, index) => (\n              <div\n                className='page'\n                key={index}\n                onClick={() =>\n                  this.handleClickSearch(item.name, item.number, item.enforcement_date)\n                }\n              >\n                <h3 className='name'>{item.name}</h3>\n                <span className='type'>{item.type}&nbsp;</span>\n                <span className='number'>{item.number}호&nbsp;</span>\n                <span className='admendment'>\n                  {item.amendment_status}&nbsp;\n                </span>\n                <span className='ministry'>{item.ministry}&nbsp;</span>\n                <span className='promulgation'>\n                  공포일:{' '}\n                  {format(new Date(item.promulgation_date), 'yyyy-MM-dd')}&nbsp;\n                </span>\n                <span className='enforcement'>\n                  시행일:{' '}\n                  {format(new Date(item.enforcement_date), 'yyyy-MM-dd')}\n                </span>\n              </div>\n            ))}\n\n            <div>\n              <Pagination\n                items={this.props.lawlist}\n                onChangePage={this.onChangePage}\n              />\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div className='credits text-center'>\n          <p>\n            <a href='/'>주식회사 까리용</a>\n          </p>\n          <p>© 2019 Carillon Inc., All rights reserved.</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n    lawlistdetail: state.lawinfo.lawlistdetail,\n  }),\n  (dispatch) => ({\n    searchlist: (data) => dispatch(searchlist.searchlist(data)),\n    lawinfo: (data) => dispatch(lawinfo.lawinfo(data)),\n  })\n)(withRouter(SearchResult));\n"]},"metadata":{},"sourceType":"module"}