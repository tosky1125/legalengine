{"ast":null,"code":"import _toConsumableArray from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Pagination.css';var defaultProps={initialPage:1,pageSize:5};var Pagination=/*#__PURE__*/function(_React$Component){_inherits(Pagination,_React$Component);var _super=_createSuper(Pagination);function Pagination(props){var _this;_classCallCheck(this,Pagination);_this=_super.call(this,props);_this.state={pager:{}};return _this;}_createClass(Pagination,[{key:\"componentDidMount\",value:function componentDidMount(){// 데이터 배열이 있을 때, 페이지 셋업\nvar _this$props=this.props,items=_this$props.items,initialPage=_this$props.initialPage;if(items&&items.length){this.setPage(initialPage);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){// 데이터 배열이 변하면 페이지도 리셋\nvar _this$props2=this.props,items=_this$props2.items,initialPage=_this$props2.initialPage;if(items!==prevProps.items){this.setPage(initialPage);}}},{key:\"setPage\",value:function setPage(page){var _this$props3=this.props,items=_this$props3.items,pageSize=_this$props3.pageSize,onChangePage=_this$props3.onChangePage;var pager=this.state.pager;if(page<1||page>pager.totalPages){return;}// specified page를 위한 페이저 객체\npager=this.getPager(items.length,page,pageSize);// 데이터 배열에서 나온 데이터들을 위한 새로운 페이지 만들기\nvar pageOfItems=items.slice(pager.startIndex,pager.endIndex+1);this.setState({pager:pager});// 부모 컴포넌트에서 페이지바꾸기 함수 불러오기\nonChangePage(pageOfItems);}},{key:\"getPager\",value:function getPager(totalItems,currentPageParam,pageSizeParam){var defaultNum=10;var currentPage=currentPageParam||1;var pageSize=pageSizeParam||defaultNum;// 전체 페이지 계산\nvar totalPages=Math.ceil(totalItems/pageSize);var startPage;var endPage;if(totalPages<=defaultNum){startPage=1;endPage=totalPages;}else if(currentPage<=6){startPage=1;endPage=defaultNum;}else if(currentPage+4>=totalPages){startPage=totalPages-9;endPage=totalPages;}else{startPage=currentPage-5;endPage=currentPage+4;}// 데이터 인덱스 엔드\nvar startIndex=(currentPage-1)*pageSize;var endIndex=Math.min(startIndex+pageSize-1,totalItems-1);// 페이지 배열 생성 -> 페이저에서 반복안되게\nvar pages=_toConsumableArray(Array(endPage+1-startPage).keys()).map(function(i){return startPage+i;});// 페이저 프로퍼티 반환\nreturn{totalItems:totalItems,currentPage:currentPage,pageSize:pageSize,totalPages:totalPages,startPage:startPage,endPage:endPage,startIndex:startIndex,endIndex:endIndex,pages:pages};}},{key:\"render\",value:function render(){var _this2=this;var pager=this.state.pager;if(!pager.pages||pager.pages.length<=1){// 페이지가 1이면 페이저 디스플레이 안하기\nreturn null;}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"pagination\"},/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\"}),/*#__PURE__*/React.createElement(\"li\",{className:pager.currentPage===1?'disabled':''},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setPage(1);}},'<<')),/*#__PURE__*/React.createElement(\"li\",{className:pager.currentPage===1?'disabled':''},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setPage(pager.currentPage-1);}},'<')),pager.pages.map(function(page,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:pager.currentPage===page?'active':''},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setPage(page);}},page));}),/*#__PURE__*/React.createElement(\"li\",{className:pager.currentPage===pager.totalPages?'disabled':''},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setPage(pager.currentPage+1);}},'>')),/*#__PURE__*/React.createElement(\"li\",{className:pager.currentPage===pager.totalPages?'disabled':''},/*#__PURE__*/React.createElement(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return _this2.setPage(pager.totalPages);}},'>>'))));}}]);return Pagination;}(React.Component);Pagination.defaultProps=defaultProps;export default Pagination;","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/Pagination.js"],"names":["React","defaultProps","initialPage","pageSize","Pagination","props","state","pager","items","length","setPage","prevProps","page","onChangePage","totalPages","getPager","pageOfItems","slice","startIndex","endIndex","setState","totalItems","currentPageParam","pageSizeParam","defaultNum","currentPage","Math","ceil","startPage","endPage","min","pages","Array","keys","map","i","index","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Pagination.css';\n\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 5,\n};\nclass Pagination extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { pager: {} };\n  }\n\n  componentDidMount() {\n    // 데이터 배열이 있을 때, 페이지 셋업\n    const { items, initialPage } = this.props;\n    if (items && items.length) {\n      this.setPage(initialPage);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // 데이터 배열이 변하면 페이지도 리셋\n    const { items, initialPage } = this.props;\n    if (items !== prevProps.items) {\n      this.setPage(initialPage);\n    }\n  }\n\n  setPage(page) {\n    const { items, pageSize, onChangePage } = this.props;\n    let { pager } = this.state;\n    if (page < 1 || page > pager.totalPages) {\n      return;\n    }\n    // specified page를 위한 페이저 객체\n    pager = this.getPager(items.length, page, pageSize);\n    // 데이터 배열에서 나온 데이터들을 위한 새로운 페이지 만들기\n    const pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n    this.setState({ pager });\n    // 부모 컴포넌트에서 페이지바꾸기 함수 불러오기\n    onChangePage(pageOfItems);\n  }\n\n  getPager(totalItems, currentPageParam, pageSizeParam) {\n    const defaultNum = 10;\n    const currentPage = currentPageParam || 1;\n    const pageSize = pageSizeParam || defaultNum;\n    // 전체 페이지 계산\n    const totalPages = Math.ceil(totalItems / pageSize);\n    let startPage; let\n      endPage;\n    if (totalPages <= defaultNum) {\n      startPage = 1;\n      endPage = totalPages;\n    } else if (currentPage <= 6) {\n      startPage = 1;\n      endPage = defaultNum;\n    } else if (currentPage + 4 >= totalPages) {\n      startPage = totalPages - 9;\n      endPage = totalPages;\n    } else {\n      startPage = currentPage - 5;\n      endPage = currentPage + 4;\n    }\n    // 데이터 인덱스 엔드\n    const startIndex = (currentPage - 1) * pageSize;\n    const endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n    // 페이지 배열 생성 -> 페이저에서 반복안되게\n    const pages = [...Array(endPage + 1 - startPage).keys()].map(\n      (i) => startPage + i,\n    );\n    // 페이저 프로퍼티 반환\n    return {\n      totalItems,\n      currentPage,\n      pageSize,\n      totalPages,\n      startPage,\n      endPage,\n      startIndex,\n      endIndex,\n      pages,\n    };\n  }\n\n  render() {\n    const { pager } = this.state;\n    if (!pager.pages || pager.pages.length <= 1) {\n      // 페이지가 1이면 페이저 디스플레이 안하기\n      return null;\n    }\n    return (\n      <div>\n        <ul className='pagination'>\n          <link\n            rel='stylesheet'\n            href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'\n          />\n          <li className={pager.currentPage === 1 ? 'disabled' : ''}>\n            <a href='javascript:void(0)' onClick={() => this.setPage(1)}>\n              {'<<'}\n            </a>\n          </li>\n          <li className={pager.currentPage === 1 ? 'disabled' : ''}>\n            <a href='javascript:void(0)' onClick={() => this.setPage(pager.currentPage - 1)}>\n              {'<'}\n            </a>\n          </li>\n          {pager.pages.map((page, index) => (\n            <li\n              key={index}\n              className={pager.currentPage === page ? 'active' : ''}\n            >\n              <a href='javascript:void(0)' onClick={() => this.setPage(page)}>\n                {page}\n              </a>\n            </li>\n          ))}\n          <li\n            className={pager.currentPage === pager.totalPages ? 'disabled' : ''}\n          >\n            <a href='javascript:void(0)' onClick={() => this.setPage(pager.currentPage + 1)}>\n              {'>'}\n            </a>\n          </li>\n          <li\n            className={pager.currentPage === pager.totalPages ? 'disabled' : ''}\n          >\n            <a href='javascript:void(0)' onClick={() => this.setPage(pager.totalPages)}>\n              {'>>'}\n            </a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nPagination.defaultProps = defaultProps;\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}