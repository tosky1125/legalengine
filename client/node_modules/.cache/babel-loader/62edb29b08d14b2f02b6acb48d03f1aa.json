{"ast":null,"code":"import _slicedToArray from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import*as _Law from'../modules/Law';import*as _Related from'../modules/Related';import*as _Result from'../modules/Result';import SideInfo from'../components/SideInfo';import ArticleLink from'../components/ArticleLink';import'./ViewPage.css';import ConvertToPDF from'../components/ConvertToPDF';import queryString from'query-string';function ViewPage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoaded=_useState2[0],setisLoaded=_useState2[1];var Law=props.Law,Related=props.Related,Result=props.Result;var _useState3=useState(props.match.params.key),_useState4=_slicedToArray(_useState3,1),name=_useState4[0];var _queryString$parse=queryString.parse(props.location.search),lawNum=_queryString$parse.lawNum,enfDate=_queryString$parse.enfDate;useEffect(function(){var payload={lawNum:lawNum,enfDate:enfDate};// setTimeout(() => {\n//   setisLoaded(true);\n// }, 1000);\nvar url=\"http://13.125.112.243/law/\".concat(encodeURIComponent(name),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(enfDate);if(!lawNum){url=\"http://13.125.112.243/law/\".concat(name,\"?enfDate=\").concat(enfDate);}axios.post(url,payload).then(function(data){Related(data.data.Related);Law(data.data.Law);Result(data.data.Law.context);console.log(data.data.Law);console.log(data.data.Related);// console.log(data.data.Law.context);\nsetisLoaded(true);}).catch(function(err){if(err.res){console.log(err.res.data);console.log(err.res.status);console.log(err.res.headers);}else if(err.req){console.log(err.req);}else{console.log('Error',err.message);}console.log(err.config);});},[]);if(isLoaded===true){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"viewpage-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"viewpage-sideinfo-container\"},/*#__PURE__*/React.createElement(SideInfo,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"viewpage-articlelink-container\"},/*#__PURE__*/React.createElement(ArticleLink,null)),/*#__PURE__*/React.createElement(ConvertToPDF,{name:name,lawNum:lawNum,enfDate:enfDate})));}else{return/*#__PURE__*/React.createElement(\"div\",null,\"hi\");}}export default connect(function(state){return{Law:state.Law.Law,Related:state.Related.Related,Result:state.Result.Result};},function(dispatch){return{Law:function Law(data){return dispatch(_Law.Law(data));},Related:function Related(data){return dispatch(_Related.Related(data));},Result:function Result(data){return dispatch(_Result.Result(data));}};})(withRouter(ViewPage));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/ViewPage.js"],"names":["React","useState","useEffect","axios","connect","withRouter","Law","Related","Result","SideInfo","ArticleLink","ConvertToPDF","queryString","ViewPage","props","isLoaded","setisLoaded","match","params","key","name","parse","location","search","lawNum","enfDate","payload","url","encodeURIComponent","post","then","data","context","console","log","catch","err","res","status","headers","req","message","config","state","dispatch"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAqB,gBAArB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAAyB,oBAAzB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAwB,mBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAO,gBAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,eACSb,QAAQ,CAAC,KAAD,CADjB,wCAChBc,QADgB,eACNC,WADM,kBAEfV,CAAAA,GAFe,CAEUQ,KAFV,CAEfR,GAFe,CAEVC,OAFU,CAEUO,KAFV,CAEVP,OAFU,CAEDC,MAFC,CAEUM,KAFV,CAEDN,MAFC,gBAGRP,QAAQ,CAACa,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,GAApB,CAHA,yCAGhBC,IAHgB,sCAIKR,WAAW,CAACS,KAAZ,CAAkBP,KAAK,CAACQ,QAAN,CAAeC,MAAjC,CAJL,CAIfC,MAJe,oBAIfA,MAJe,CAIPC,OAJO,oBAIPA,OAJO,CAMvBvB,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,OAAO,CAAG,CAAEF,MAAM,CAANA,MAAF,CAAUC,OAAO,CAAPA,OAAV,CAAhB,CAEA;AACA;AACA;AAEA,GAAIE,CAAAA,GAAG,qCAAgCC,kBAAkB,CACvDR,IADuD,CAAlD,oBAEKI,MAFL,qBAEuBC,OAFvB,CAAP,CAIA,GAAI,CAACD,MAAL,CAAa,CACXG,GAAG,qCAAgCP,IAAhC,qBAAgDK,OAAhD,CAAH,CACD,CACDtB,KAAK,CACF0B,IADH,CACQF,GADR,CACaD,OADb,EAEGI,IAFH,CAEQ,SAACC,IAAD,CAAU,CACdxB,OAAO,CAACwB,IAAI,CAACA,IAAL,CAAUxB,OAAX,CAAP,CACAD,GAAG,CAACyB,IAAI,CAACA,IAAL,CAAUzB,GAAX,CAAH,CACAE,MAAM,CAACuB,IAAI,CAACA,IAAL,CAAUzB,GAAV,CAAc0B,OAAf,CAAN,CACAC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACA,IAAL,CAAUzB,GAAtB,EACA2B,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACA,IAAL,CAAUxB,OAAtB,EACA;AACAS,WAAW,CAAC,IAAD,CAAX,CACD,CAVH,EAWGmB,KAXH,CAWS,SAAUC,GAAV,CAAe,CACpB,GAAIA,GAAG,CAACC,GAAR,CAAa,CACXJ,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,GAAJ,CAAQN,IAApB,EACAE,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,GAAJ,CAAQC,MAApB,EACAL,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,GAAJ,CAAQE,OAApB,EACD,CAJD,IAIO,IAAIH,GAAG,CAACI,GAAR,CAAa,CAClBP,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACI,GAAhB,EACD,CAFM,IAEA,CACLP,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBE,GAAG,CAACK,OAAzB,EACD,CACDR,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACM,MAAhB,EACD,CAtBH,EAuBD,CArCQ,CAqCN,EArCM,CAAT,CAuCA,GAAI3B,QAAQ,GAAK,IAAjB,CAAuB,CACrB,mBACE,4CACE,2BAAK,SAAS,CAAC,oBAAf,eACE,2BAAK,SAAS,CAAC,6BAAf,eACE,oBAAC,QAAD,MADF,CADF,cAIE,2BAAK,SAAS,CAAC,gCAAf,eACE,oBAAC,WAAD,MADF,CAJF,cAOE,oBAAC,YAAD,EAAc,IAAI,CAAEK,IAApB,CAA0B,MAAM,CAAEI,MAAlC,CAA0C,OAAO,CAAEC,OAAnD,EAPF,CADF,CADF,CAaD,CAdD,IAcO,CACL,mBAAO,oCAAP,CACD,CACF,CAED,cAAerB,CAAAA,OAAO,CACpB,SAACuC,KAAD,QAAY,CACVrC,GAAG,CAAEqC,KAAK,CAACrC,GAAN,CAAUA,GADL,CAEVC,OAAO,CAAEoC,KAAK,CAACpC,OAAN,CAAcA,OAFb,CAGVC,MAAM,CAAEmC,KAAK,CAACnC,MAAN,CAAaA,MAHX,CAAZ,EADoB,CAMpB,SAACoC,QAAD,QAAe,CACbtC,GAAG,CAAE,aAACyB,IAAD,QAAUa,CAAAA,QAAQ,CAACtC,IAAG,CAACA,GAAJ,CAAQyB,IAAR,CAAD,CAAlB,EADQ,CAEbxB,OAAO,CAAE,iBAACwB,IAAD,QAAUa,CAAAA,QAAQ,CAACrC,QAAO,CAACA,OAAR,CAAgBwB,IAAhB,CAAD,CAAlB,EAFI,CAGbvB,MAAM,CAAE,gBAACuB,IAAD,QAAUa,CAAAA,QAAQ,CAACpC,OAAM,CAACA,MAAP,CAAcuB,IAAd,CAAD,CAAlB,EAHK,CAAf,EANoB,CAAP,CAWb1B,UAAU,CAACQ,QAAD,CAXG,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\nimport SideInfo from '../components/SideInfo';\nimport ArticleLink from '../components/ArticleLink';\nimport './ViewPage.css';\nimport ConvertToPDF from '../components/ConvertToPDF';\nimport queryString from 'query-string';\n\nfunction ViewPage(props) {\n  const [isLoaded, setisLoaded] = useState(false);\n  const { Law, Related, Result } = props;\n  const [name] = useState(props.match.params.key);\n  const { lawNum, enfDate } = queryString.parse(props.location.search);\n\n  useEffect(() => {\n    const payload = { lawNum, enfDate };\n\n    // setTimeout(() => {\n    //   setisLoaded(true);\n    // }, 1000);\n\n    let url = `http://13.125.112.243/law/${encodeURIComponent(\n      name\n    )}?lawNum=${lawNum}&enfDate=${enfDate}`;\n\n    if (!lawNum) {\n      url = `http://13.125.112.243/law/${name}?enfDate=${enfDate}`;\n    }\n    axios\n      .post(url, payload)\n      .then((data) => {\n        Related(data.data.Related);\n        Law(data.data.Law);\n        Result(data.data.Law.context);\n        console.log(data.data.Law);\n        console.log(data.data.Related);\n        // console.log(data.data.Law.context);\n        setisLoaded(true);\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  }, []);\n\n  if (isLoaded === true) {\n    return (\n      <div>\n        <div className='viewpage-container'>\n          <div className='viewpage-sideinfo-container'>\n            <SideInfo />\n          </div>\n          <div className='viewpage-articlelink-container'>\n            <ArticleLink />\n          </div>\n          <ConvertToPDF name={name} lawNum={lawNum} enfDate={enfDate} />\n        </div>\n      </div>\n    );\n  } else {\n    return <div>hi</div>;\n  }\n}\n\nexport default connect(\n  (state) => ({\n    Law: state.Law.Law,\n    Related: state.Related.Related,\n    Result: state.Result.Result,\n  }),\n  (dispatch) => ({\n    Law: (data) => dispatch(Law.Law(data)),\n    Related: (data) => dispatch(Related.Related(data)),\n    Result: (data) => dispatch(Result.Result(data)),\n  })\n)(withRouter(ViewPage));\n"]},"metadata":{},"sourceType":"module"}