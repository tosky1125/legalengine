{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/carillon_codestates/client/src/components/ViewPage.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport SideInfo from './SideInfo';\nimport ArticleLink from './ArtcleLink';\nimport './ViewPage.css';\nimport { format } from 'date-fns';\nimport ConvertToPDF from './ConvertToPDF';\nimport Modal from './Modal';\nimport axios from 'axios';\n\nfunction ViewPage() {\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  const openModal = () => {\n    setIsOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n\n  let law = JSON.parse(localStorage.Law);\n  console.log(law);\n  let {\n    Chapter\n  } = law;\n  const keyword = JSON.parse(localStorage.searchWord);\n  const searchDate = JSON.parse(localStorage.searchDate); // '구조'\n\n  const regex = new RegExp(keyword, 'g');\n  const lawRegex = new RegExp(/\\「(.*?)\\」/);\n\n  const artUrlfragment = strFrom => {\n    const str = String(strFrom);\n\n    if (str.includes(':')) {\n      const artUrl = '0'.repeat(2) + str;\n      return artUrl;\n    }\n  };\n\n  const joSlicer = strFrom => {\n    const str = String(strFrom);\n\n    if (str.includes(':')) {\n      const splited = str.split(':');\n      const joRaw = splited[0];\n      const joBrRaw = splited[1];\n      const joNo = '0'.repeat(4 - joRaw.length) + joRaw;\n      const joBrNo = '0'.repeat(2 - joBrRaw.length) + joBrRaw;\n      return [joNo, joBrNo];\n    } else {\n      return ['0', '0'];\n    }\n  };\n\n  const handleClickSearch = e => {};\n\n  const relatedLaw = context => {\n    const selectedLaw = lawRegex.test(context) ? context.match(lawRegex)[1] : null;\n    console.log(selectedLaw);\n\n    if (selectedLaw) {\n      const inTagLaw = lawRegex.test(context) ? context.match(lawRegex)[0] : null;\n      context = context.replace(lawRegex, `<span onclick=fetch('http://13.125.112.243')>${inTagLaw}</span>`);\n    }\n\n    console.log(context);\n    return context;\n  }; // {artEle.article_title} 조문 위치\n  // const handleSearchArticle = () => {};\n  // const joSplitDate = (context)=> {\n  //   const date = null;\n  //   if(context){\n  //     const check = context.indexOf('<개정');\n  //     if(check !== -1){\n  //       date = context.slice(check);\n  //       context = context.sliviewpage-ce(0,check);\n  //     }\n  //   };\n  //   console.log(context, `this is ${date}`);\n  //   return { context, date };\n  // }\n\n\n  Chapter = Chapter.map((chapEle, chapEleIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    key: chapEleIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"viewpage-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, chapEle.context), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"viewpage-chapdate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, chapEle.date), chapEle.Article && chapEle.Article.map((artEle, artEleIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    key: artEleIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    name: artUrlfragment(artEle.article_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"viewpage-article-title\",\n    name: artUrlfragment(artEle.article_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, artEle.article_title, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"viewpage-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, artEle.flag_pan && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"viewpage-buttons-pan\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `http://www.law.go.kr/LSW/joStmdInfoP.do?lsiSeq=200188&joNo=${joSlicer(artEle.article_id)[0]}&joBrNo=${joSlicer(artEle.article_id)[1]}`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"\\uD310\")), artEle.flag_yeon && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"viewpage-buttons-yeon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"\\uC5F0\"), artEle.flag_hang && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"viewpage-buttons-hang\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"\\uD589\"), artEle.flag_gyu && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"viewpage-buttons-gyu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, \"\\uADDC\")), /*#__PURE__*/React.createElement(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: artEle.context && relatedLaw(artEle.context).replace(regex, `<span class='keyword-highlight'>${keyword}</span>`)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"viewpage-artdate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, artEle.cont_date), artEle.Clause && artEle.Clause.map((claEle, claEleIndex) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: claEleIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clause-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"clause-context\",\n      dangerouslySetInnerHTML: {\n        __html: claEle.context && claEle.context.replace(regex, `<span class='keyword-highlight'>${keyword}</span>`)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 23\n      }\n    }, claEle.date)), claEle.subPara && claEle.subPara.map((subEle, subEleIndex) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: subEleIndex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sub-context\",\n        dangerouslySetInnerHTML: {\n          __html: subEle.context && subEle.context.replace(regex, `<span class='keyword-highlight'>${keyword}</span>`)\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }, subEle.date), subEle.Item && subEle.Item.map((itEle, itEleIndex) => {\n        if (itEle.context.includes('http')) {\n          return /*#__PURE__*/React.createElement(\"img\", {\n            key: itEleIndex,\n            className: \"img\",\n            src: itEle.context,\n            alt: itEle.context,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 37\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: itEleIndex,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"item-context\",\n            dangerouslySetInnerHTML: {\n              __html: itEle.context && itEle.context.replace(regex, `<span class='keyword-highlight'>${keyword}</span>`)\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 39\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"date\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 39\n            }\n          }, itEle.date));\n        }\n      }));\n    }));\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, artEle.date)))));\n  console.log(Chapter);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"viewpage-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"viewpage-sideinfo-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SideInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"viewpage-articlelink-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArticleLink, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"viewpage-maininfo-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ConvertToPDF, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"viewpage-law-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }, law.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"viewpage-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, \"[\\uC2DC\\uD589 \", format(new Date(law.enforcement_date), 'yyyy.MM.dd.'), \"] [\", law.type, \"\\xA0\", law.number, \"\\uD638,\\xA0\", format(new Date(law.promulgation_date), 'yyyy.MM.dd.'), \",\\xA0\", law.amendment_status, \"]\")), Chapter)));\n}\n\nexport default connect(state => ({\n  lawDetail: state.lawinfo.lawDetail\n}), dispatch => ({\n  lawinfo: data => dispatch(lawinfo.lawinfo(data))\n}))(withRouter(ViewPage));","map":{"version":3,"sources":["/Users/iden/Desktop/carillon_codestates/client/src/components/ViewPage.js"],"names":["React","useState","connect","withRouter","lawinfo","SideInfo","ArticleLink","format","ConvertToPDF","Modal","axios","ViewPage","modalIsOpen","setIsOpen","openModal","closeModal","law","JSON","parse","localStorage","Law","console","log","Chapter","keyword","searchWord","searchDate","regex","RegExp","lawRegex","artUrlfragment","strFrom","str","String","includes","artUrl","repeat","joSlicer","splited","split","joRaw","joBrRaw","joNo","length","joBrNo","handleClickSearch","e","relatedLaw","context","selectedLaw","test","match","inTagLaw","replace","map","chapEle","chapEleIndex","date","Article","artEle","artEleIndex","article_id","article_title","flag_pan","flag_yeon","flag_hang","flag_gyu","__html","cont_date","Clause","claEle","claEleIndex","subPara","subEle","subEleIndex","Item","itEle","itEleIndex","name","Date","enforcement_date","type","number","promulgation_date","amendment_status","state","lawDetail","dispatch","data"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport SideInfo from './SideInfo';\nimport ArticleLink from './ArtcleLink';\nimport './ViewPage.css';\nimport { format } from 'date-fns';\nimport ConvertToPDF from './ConvertToPDF';\nimport Modal from './Modal';\nimport axios from 'axios';\n\nfunction ViewPage() {\n  const [modalIsOpen, setIsOpen] = useState(false);\n  const openModal = () => {\n    setIsOpen(true);\n  };\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n  let law = JSON.parse(localStorage.Law);\n  console.log(law);\n\n  let { Chapter } = law;\n\n  const keyword = JSON.parse(localStorage.searchWord); \n  const searchDate = JSON.parse(localStorage.searchDate);\n  // '구조'\n  const regex = new RegExp(keyword,'g');\n  const lawRegex = new RegExp(/\\「(.*?)\\」/);\n  const artUrlfragment = (strFrom) => {\n    const str = String(strFrom);\n    if (str.includes(':')) {\n      const artUrl = '0'.repeat(2) + str;\n      return artUrl;\n    }\n  };\n\n\n  const joSlicer = (strFrom) => {\n    const str = String(strFrom);\n    if (str.includes(':')) {\n      const splited = str.split(':');\n      const joRaw = splited[0];\n      const joBrRaw = splited[1];\n      const joNo = '0'.repeat(4 - joRaw.length) + joRaw;\n      const joBrNo = '0'.repeat(2 - joBrRaw.length) + joBrRaw;\n      return [joNo, joBrNo];\n    } else {\n      return ['0', '0'];\n    }\n  };\n  const handleClickSearch = (e) => {\n    \n  };\n  const relatedLaw = (context) => {\n    \n    const selectedLaw = lawRegex.test(context) ? context.match(lawRegex)[1] : null;\n    console.log(selectedLaw)\n    if(selectedLaw){\n      const inTagLaw = lawRegex.test(context) ? context.match(lawRegex)[0] : null;\n      context = context.replace(lawRegex,`<span onclick=fetch('http://13.125.112.243')>${inTagLaw}</span>`);\n    }\n    console.log(context)\n    return context;\n  };\n  \n    \n  // {artEle.article_title} 조문 위치\n  // const handleSearchArticle = () => {};\n\n  // const joSplitDate = (context)=> {\n\n  //   const date = null;\n  //   if(context){\n  //     const check = context.indexOf('<개정');\n  //     if(check !== -1){\n  //       date = context.slice(check);\n  //       context = context.sliviewpage-ce(0,check);\n  //     }\n  //   };\n  //   console.log(context, `this is ${date}`);\n  //   return { context, date };\n  // }\n\n  Chapter = Chapter.map((chapEle, chapEleIndex) => (\n    <div key={chapEleIndex}>\n      <h1 className='viewpage-title'>{chapEle.context}</h1>\n      <h2 className='viewpage-chapdate'>{chapEle.date}</h2>\n      {chapEle.Article &&\n        chapEle.Article.map((artEle, artEleIndex) => (\n          <div key={artEleIndex}>\n            <a name={artUrlfragment(artEle.article_id)}></a>\n            <h3\n              className='viewpage-article-title'\n              name={artUrlfragment(artEle.article_id)}\n            >\n              {artEle.article_title}&nbsp;&nbsp;\n            </h3>\n            <span className='viewpage-buttons'>\n              {artEle.flag_pan && (\n                <button className='viewpage-buttons-pan'>\n                  <a\n                    href={`http://www.law.go.kr/LSW/joStmdInfoP.do?lsiSeq=200188&joNo=${\n                      joSlicer(artEle.article_id)[0]\n                    }&joBrNo=${joSlicer(artEle.article_id)[1]}`}\n                    target='_blank'\n                    rel='noopener noreferrer'\n                  >\n                    판\n                  </a>\n                </button>\n              )}\n              {artEle.flag_yeon && (\n                <button className='viewpage-buttons-yeon'>\n                  {/* <a \n                    href='http://www.law.go.kr/LSW/lsJoHstProc.do?lsid={추후삽입}&lsiSeq={Law.number}&joNo=0002&joBrNo=00&lType=0002'\n                    target='_blank'\n                  >                   \n                  </a> */}\n                  {/* javascript:fJoHstShow(this,'000695','216111','58955861','010202'); */}\n                  연\n                </button>\n              )}\n              {artEle.flag_hang && (\n                <button className='viewpage-buttons-hang'>\n                  {/* <a\n                    href='http://www.law.go.kr/LSW/conAdmrulByLsPop.do?&lsiSeq={Law.number}&joNo={조(0001)}&joBrNo={조 하위}&datClsCd=010102&dguBun=DEG'\n                    target='_blank'\n                  ></a> */}\n                  행\n                </button>\n              )}\n              {artEle.flag_gyu && (\n                <button className='viewpage-buttons-gyu'>\n                  {/* <a\n                    href='http://www.law.go.kr/LSW/lsCtlInfListR.do?lsiSeq={law.number}&lsId={추후삽입}&joNo=0001&joBrNo=00'\n                    target='_blank'\n                  ></a> */}\n                  규\n                </button>\n              )}\n            </span>\n            \n              <span dangerouslySetInnerHTML={{ __html: artEle.context && relatedLaw(artEle.context).replace(regex, `<span class='keyword-highlight'>${keyword}</span>`)}}></span>\n            <span className='viewpage-artdate'>{artEle.cont_date}</span>\n            {artEle.Clause &&\n              artEle.Clause.map((claEle, claEleIndex) => {\n                return (\n                  <div key={claEleIndex}>\n                    <div className='clause-wrapper'>\n                      <span\n                        className='clause-context'\n                        dangerouslySetInnerHTML={{\n                          __html:\n                            claEle.context &&\n                            claEle.context.replace(\n                              regex,\n                              `<span class='keyword-highlight'>${keyword}</span>`\n                            ),\n                        }}\n                      ></span>\n                      <span className='date'>{claEle.date}</span>\n                    </div>\n                    {claEle.subPara &&\n                      claEle.subPara.map((subEle, subEleIndex) => {\n                        return (\n                          <div key={subEleIndex}>\n                            <span\n                              className='sub-context'\n                              dangerouslySetInnerHTML={{\n                                __html:\n                                  subEle.context &&\n                                  subEle.context.replace(\n                                    regex,\n                                    `<span class='keyword-highlight'>${keyword}</span>`\n                                  ),\n                              }}\n                            ></span>\n                            <span className='date'>{subEle.date}</span>\n                            {subEle.Item &&\n                              subEle.Item.map((itEle, itEleIndex) => {\n                                if (itEle.context.includes('http')) {\n                                  return (\n                                    <img\n                                      key={itEleIndex}\n                                      className='img'\n                                      src={itEle.context}\n                                      alt={itEle.context}\n                                    ></img>\n                                  );\n                                } else {\n                                  return (\n                                    <div key={itEleIndex}>\n                                      <span\n                                        className='item-context'\n                                        dangerouslySetInnerHTML={{\n                                          __html:\n                                            itEle.context &&\n                                            itEle.context.replace(\n                                              regex,\n                                              `<span class='keyword-highlight'>${keyword}</span>`\n                                            ),\n                                        }}\n                                      ></span>\n                                      <span className='date'>{itEle.date}</span>\n                                    </div>\n                                  );\n                                }\n                              })}\n                          </div>\n                        );\n                      })}\n                  </div>\n                );\n              })}\n            <p className='date'>{artEle.date}</p>\n          </div>\n        ))}\n    </div>\n  ));\n  console.log(Chapter);\n  return (\n    <div>\n      <div className='viewpage-container'>\n        <div className='viewpage-sideinfo-container'>\n          <SideInfo />\n        </div>\n        <div className='viewpage-articlelink-container'>\n          <ArticleLink />\n        </div>\n        <div className='viewpage-maininfo-container'>\n          <ConvertToPDF />\n          <div className='viewpage-law-head'>\n            <h1>{law.name}</h1>\n            <p className='viewpage-date'>\n              [시행 {format(new Date(law.enforcement_date), 'yyyy.MM.dd.')}] [\n              {law.type}&nbsp;\n              {law.number}호,&nbsp;\n              {format(new Date(law.promulgation_date), 'yyyy.MM.dd.')}\n              ,&nbsp;\n              {law.amendment_status}]\n            </p>\n          </div>\n          {Chapter}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawDetail: state.lawinfo.lawDetail,\n  }),\n  (dispatch) => ({\n    lawinfo: (data) => dispatch(lawinfo.lawinfo(data)),\n  })\n)(withRouter(ViewPage));\n"]},"metadata":{},"sourceType":"module"}