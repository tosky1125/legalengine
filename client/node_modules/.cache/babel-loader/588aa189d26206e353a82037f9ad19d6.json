{"ast":null,"code":"import _slicedToArray from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import'./MainInfo.css';var MainInfo=function MainInfo(props){// Data from API\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var name=props.name,lawNum=props.lawNum,enfDate=props.enfDate;var keyword=JSON.parse(localStorage.searchWord);var changeStr=function changeStr(str,keyword){var bracket=new Set(['<','>']);var isOn=false;var length=keyword.length;for(var i=0;i<str.length;i++){var keyCheck=str.slice(i,i+length);if(bracket.has(str[i])){isOn=!isOn;}if(!isOn&&keyCheck===keyword){var tmp1=str.slice(0,i);var tmp2=str.slice(i+length,str.length);str=\"\".concat(tmp1,\"thishashkey\").concat(tmp2);}}str=str.replace(/thishashkey/g,\"<span class='keyword-highlight'>\".concat(keyword,\"</span>\"));return str;};// http://13.125.112.243/law/119구조구급에관한법률?lawNum=222449&enfDate=2021-10-21\n// http://13.125.112.243/law/119구조구급에관한법률시행령?lawNum=220037&enfDate=2021-10-21\n// API Call\nuseEffect(function(){var payload={lawNum:lawNum,enfDate:enfDate};var url=\"http://13.125.112.243/law/\".concat(encodeURIComponent(name),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(enfDate);if(!lawNum){url=\"http://13.125.112.243/law/\".concat(name,\"?enfDate=\").concat(enfDate);}axios.post(url,payload).then(function(data){setResult(changeStr(data.data.Law.context,keyword));// console.log(data.data.Law.context);\n}).catch(function(err){if(err.res){console.log(err.res.data);console.log(err.res.status);console.log(err.res.headers);}else if(err.req){console.log(err.req);}else{console.log('Error',err.message);}console.log(err.config);});},[]);return/*#__PURE__*/React.createElement(\"div\",{dangerouslySetInnerHTML:{__html:result}});};export default MainInfo;","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/MainInfo.js"],"names":["React","useState","useEffect","axios","MainInfo","props","result","setResult","name","lawNum","enfDate","keyword","JSON","parse","localStorage","searchWord","changeStr","str","bracket","Set","isOn","length","i","keyCheck","slice","has","tmp1","tmp2","replace","payload","url","encodeURIComponent","post","then","data","Law","context","catch","err","res","console","log","status","headers","req","message","config","__html"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './MainInfo.css';\n\nconst MainInfo = (props) => {\n  // Data from API\n  const [result, setResult] = useState([]);\n  const { name, lawNum, enfDate } = props;\n  const keyword = JSON.parse(localStorage.searchWord);\n  const changeStr = (str, keyword) => {\n    const bracket = new Set(['<', '>']);\n    let isOn = false;\n    const {\n      length\n    } = keyword;\n    for (let i = 0; i < str.length; i++) {\n      const keyCheck = str.slice(i, i + length);\n      if (bracket.has(str[i])) {\n        isOn = !isOn;\n      }\n      if (!isOn && keyCheck === keyword) {\n        const tmp1 = str.slice(0, i);\n        const tmp2 = str.slice(i + length, str.length);\n        str = `${tmp1}thishashkey${tmp2}`;\n      }\n    }\n    str = str.replace(/thishashkey/g, `<span class='keyword-highlight'>${keyword}</span>`);\n    return str;\n  };\n\n  // http://13.125.112.243/law/119구조구급에관한법률?lawNum=222449&enfDate=2021-10-21\n  // http://13.125.112.243/law/119구조구급에관한법률시행령?lawNum=220037&enfDate=2021-10-21\n\n  // API Call\n  useEffect(() => {\n    const payload = { lawNum, enfDate };\n    let url = `http://13.125.112.243/law/${encodeURIComponent(\n      name\n    )}?lawNum=${lawNum}&enfDate=${enfDate}`;\n    if (!lawNum) {\n      url = `http://13.125.112.243/law/${name}?enfDate=${enfDate}`;\n    }\n    axios\n      .post(url, payload)\n      .then((data) => {\n        setResult(changeStr(data.data.Law.context, keyword));\n        // console.log(data.data.Law.context);\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  }, []);\n  return (\n    <div\n      dangerouslySetInnerHTML={{\n        __html: result,\n      }}\n    ></div>\n  );\n};\nexport default MainInfo;\n"]},"metadata":{},"sourceType":"module"}