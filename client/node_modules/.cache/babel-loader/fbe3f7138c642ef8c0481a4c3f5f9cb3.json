{"ast":null,"code":"import _slicedToArray from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./SideInfo.css';import{connect}from'react-redux';import axios from'axios';import{format}from'date-fns';import{withRouter}from'react-router-dom';import*as _lawinfo from'../modules/lawinfo';function SideInfo(props){var sideInfoData=JSON.parse(localStorage.related);console.log(sideInfoData);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoaded=_useState2[0],setisLoaded=_useState2[1];var handleClickSearch=function handleClickSearch(name,lawNum,enfDate){var lawinfo=props.lawinfo;var payload={lawNum:lawNum,enfDate:enfDate};axios.post(\"http://13.125.112.243/law/\".concat(encodeURIComponent(name),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(enfDate),payload).then(function(res){lawinfo(res.data);console.log(res.data);localStorage.Law=JSON.stringify(res.data.Law);setisLoaded(true);}).then(function(){window.open(\"/law/\".concat(encodeURIComponent(name),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(format(new Date(enfDate),'yyyy-MM-dd')),'_blank');}).catch(function(err){if(err.res){console.log(err.res.data);console.log(err.res.status);console.log(err.res.headers);}else if(err.req){console.log(err.req);}else{console.log('Error',err.message);}console.log(err.config);});};if(sideInfoData.length===0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"));}return/*#__PURE__*/React.createElement(\"div\",null,sideInfoData.map(function(sideInfo,sideInfoIndex){return/*#__PURE__*/React.createElement(\"div\",{className:\"sideInfo-body\",key:sideInfoIndex},/*#__PURE__*/React.createElement(\"h3\",{className:\"sideInfo-title\",onClick:function onClick(){return handleClickSearch(sideInfo.name,sideInfo.number,sideInfo.enforcement_date);}},sideInfo.name),/*#__PURE__*/React.createElement(\"p\",{className:\"sideInfo-info\"},\"[\\uC2DC\\uD589 \",format(new Date(sideInfo.enforcement_date),'yyyy.MM.dd.'),\"] [\",sideInfo.type,\"\\xA0\",sideInfo.number,\"\\uD638,\\xA0\",format(new Date(sideInfo.promulgation_date),'yyyy.MM.dd.'),\"\\xA0\",sideInfo.amendment_status,\"]\"));}));}export default connect(function(state){return{lawlist:state.searchlist.lawlist,lawDetail:state.lawinfo.lawDetail};},function(dispatch){return{lawinfo:function lawinfo(data){return dispatch(_lawinfo.lawinfo(data));}};})(withRouter(SideInfo));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SideInfo.js"],"names":["React","useState","connect","axios","format","withRouter","lawinfo","SideInfo","props","sideInfoData","JSON","parse","localStorage","related","console","log","isLoaded","setisLoaded","handleClickSearch","name","lawNum","enfDate","payload","post","encodeURIComponent","then","res","data","Law","stringify","window","open","Date","catch","err","status","headers","req","message","config","length","map","sideInfo","sideInfoIndex","number","enforcement_date","type","promulgation_date","amendment_status","state","lawlist","searchlist","lawDetail","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './SideInfo.css';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\n\nfunction SideInfo(props) {\n  let sideInfoData = JSON.parse(localStorage.related);\n  console.log(sideInfoData);\n  const [isLoaded, setisLoaded] = useState(false);\n\n  const handleClickSearch = (name, lawNum, enfDate) => {\n    const { lawinfo } = props;\n    const payload = { lawNum, enfDate };\n    axios\n      .post(\n        `http://13.125.112.243/law/${encodeURIComponent(\n          name\n        )}?lawNum=${lawNum}&enfDate=${enfDate}`,\n        payload\n      )\n      .then((res) => {\n        lawinfo(res.data);\n        console.log(res.data);\n        localStorage.Law = JSON.stringify(res.data.Law);\n        setisLoaded(true);\n      })\n      .then(() => {\n        window.open(\n          `/law/${encodeURIComponent(name)}?lawNum=${lawNum}&enfDate=${format(\n            new Date(enfDate),\n            'yyyy-MM-dd'\n          )}`,\n          '_blank'\n        );\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  if (sideInfoData.length === 0) {\n    return (\n      <div>\n        <div>검색 결과가 없습니다.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {sideInfoData.map((sideInfo, sideInfoIndex) => (\n        <div className='sideInfo-body' key={sideInfoIndex}>\n          <h3\n            className='sideInfo-title'\n            onClick={() =>\n              handleClickSearch(\n                sideInfo.name,\n                sideInfo.number,\n                sideInfo.enforcement_date\n              )\n            }\n          >\n            {sideInfo.name}\n          </h3>\n          <p className='sideInfo-info'>\n            [시행 {format(new Date(sideInfo.enforcement_date), 'yyyy.MM.dd.')}]\n            [{sideInfo.type}\n            &nbsp;\n            {sideInfo.number}호,&nbsp;\n            {format(new Date(sideInfo.promulgation_date), 'yyyy.MM.dd.')}\n            &nbsp;\n            {sideInfo.amendment_status}]\n          </p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n    lawDetail: state.lawinfo.lawDetail,\n  }),\n  (dispatch) => ({\n    lawinfo: (data) => dispatch(lawinfo.lawinfo(data)),\n  })\n)(withRouter(SideInfo));\n"]},"metadata":{},"sourceType":"module"}