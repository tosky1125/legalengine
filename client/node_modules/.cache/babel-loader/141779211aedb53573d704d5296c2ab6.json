{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/carillon_codestates/client/src/components/SR.js\";\nimport React, { useState } from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Pagination from './Pagination';\nimport * as searchlist from '../modules/searchlist';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\n\nfunction SR(props) {\n  const [pageOfItems, setpageOfItems] = useState([]);\n  const [isLoaded, setisLoaded] = useState(false);\n  const {\n    lawlist\n  } = props;\n\n  const onChangePage = pageOfItems => {\n    setpageOfItems({\n      pageOfItems\n    });\n    console.log(pageOfItems);\n  };\n\n  console.log(pageOfItems);\n\n  const pagedate = () => {\n    console.log(pageOfItems);\n    pageOfItems.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n      to: \"/view\",\n      target: \"_blank\",\n      className: \"page\",\n      key: index,\n      onClick: () => handleClickSearch(item.name, item.number, item.enforcement_date),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, item.type, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, item.number, \"\\uD638\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"admendment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, item.amendment_status, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"ministry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, item.ministry, \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"promulgation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, \"\\uACF5\\uD3EC\\uC77C\\uC790 : \", format(new Date(item.promulgation_date), 'yyyy.MM.dd'), \"\\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"enforcement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, \"\\uC2DC\\uD589\\uC77C\\uC790 : \", format(new Date(item.enforcement_date), 'yyyy.MM.dd'))));\n  };\n\n  const handleClickSearch = (name, number, enforcement_date) => {\n    const {\n      lawinfo\n    } = props;\n    axios.get(`http://13.125.112.243/search?lawName=${name}&lawNum=${number}&enfDate=${enforcement_date}`).then(res => {\n      lawinfo(res.data);\n      console.log(res.data);\n      localStorage.Law = JSON.stringify(res.data.Law);\n      localStorage.related = JSON.stringify(res.data.related);\n      setisLoaded(true);\n    }).then(() => {\n      window.open(`/view?lawName=${name}&lawNum=${number}&enfDate=${format(new Date(enforcement_date), 'yyyy-MM-dd')}`, '_blank');\n    }).catch(err => {\n      if (err.res) {\n        console.log(err.res.data);\n        console.log(err.res.status);\n        console.log(err.res.headers);\n      } else if (err.req) {\n        console.log(err.req);\n      } else {\n        console.log('Error', err.message);\n      }\n\n      console.log(err.config);\n    });\n  };\n\n  if (lawlist.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-empty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"law-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"\\uCD1D \", lawlist.length, \" \\uAC74\\uC758 \\uACB0\\uACFC\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-list text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, pagedate(), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    items: lawlist,\n    onChangePage: onChangePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default connect(state => ({\n  lawlist: state.searchlist.lawlist,\n  lawDetail: state.lawinfo.lawDetail\n}), dispatch => ({\n  searchlist: data => dispatch(searchlist.searchlist(data)),\n  lawinfo: data => dispatch(lawinfo.lawinfo(data))\n}))(withRouter(SR));","map":{"version":3,"sources":["/Users/iden/Desktop/carillon_codestates/client/src/components/SR.js"],"names":["React","useState","SearchBar","connect","axios","Pagination","searchlist","withRouter","lawinfo","format","SR","props","pageOfItems","setpageOfItems","isLoaded","setisLoaded","lawlist","onChangePage","console","log","pagedate","map","item","index","handleClickSearch","name","number","enforcement_date","type","amendment_status","ministry","Date","promulgation_date","get","then","res","data","localStorage","Law","JSON","stringify","related","window","open","catch","err","status","headers","req","message","config","length","state","lawDetail","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Pagination from './Pagination';\nimport * as searchlist from '../modules/searchlist';\nimport { withRouter } from 'react-router-dom';\nimport * as lawinfo from '../modules/lawinfo';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\n\nfunction SR(props) {\n  const [pageOfItems, setpageOfItems] = useState([]);\n  const [isLoaded, setisLoaded] = useState(false);\n  const { lawlist } = props;\n\n  const onChangePage = (pageOfItems) => {\n    setpageOfItems({ pageOfItems });\n    console.log(pageOfItems);\n  };\n\n  console.log(pageOfItems);\n  const pagedate = () => {\n    console.log(pageOfItems);\n    pageOfItems.map((item, index) => (\n      <div\n        to='/view'\n        target='_blank'\n        className='page'\n        key={index}\n        onClick={() =>\n          handleClickSearch(item.name, item.number, item.enforcement_date)\n        }\n      >\n        <h3 className='name'>{item.name}</h3>\n\n        <span className='type'>{item.type}&nbsp;</span>\n        <span className='number'>{item.number}호&nbsp;</span>\n        <span className='admendment'>{item.amendment_status}&nbsp;</span>\n        <span className='ministry'>{item.ministry}&nbsp;</span>\n        <span className='promulgation'>\n          공포일자 : {format(new Date(item.promulgation_date), 'yyyy.MM.dd')}\n          &nbsp;\n        </span>\n        <span className='enforcement'>\n          시행일자 : {format(new Date(item.enforcement_date), 'yyyy.MM.dd')}\n        </span>\n      </div>\n    ));\n  };\n\n  const handleClickSearch = (name, number, enforcement_date) => {\n    const { lawinfo } = props;\n\n    axios\n      .get(\n        `http://13.125.112.243/search?lawName=${name}&lawNum=${number}&enfDate=${enforcement_date}`\n      )\n      .then((res) => {\n        lawinfo(res.data);\n        console.log(res.data);\n        localStorage.Law = JSON.stringify(res.data.Law);\n        localStorage.related = JSON.stringify(res.data.related);\n        setisLoaded(true);\n      })\n      .then(() => {\n        window.open(\n          `/view?lawName=${name}&lawNum=${number}&enfDate=${format(\n            new Date(enforcement_date),\n            'yyyy-MM-dd'\n          )}`,\n          '_blank'\n        );\n      })\n      .catch((err) => {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  if (lawlist.length === 0) {\n    return (\n      <div>\n        <SearchBar />\n        <div className='search-empty'>검색 결과가 없습니다.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className='container'>\n        <SearchBar />\n        <div className='law-number'>총 {lawlist.length} 건의 결과</div>\n        <div className='page-list text-center'>\n          {pagedate()}\n          {/* {() => {\n            alert(pageOfItems);\n            pageOfItems.map((item, index) => (\n              <div\n                to='/view'\n                target='_blank'\n                className='page'\n                key={index}\n                onClick={() =>\n                  handleClickSearch(\n                    item.name,\n                    item.number,\n                    item.enforcement_date\n                  )\n                }\n              >\n                <h3 className='name'>{item.name}</h3>\n\n                <span className='type'>{item.type}&nbsp;</span>\n                <span className='number'>{item.number}호&nbsp;</span>\n                <span className='admendment'>\n                  {item.amendment_status}&nbsp;\n                </span>\n                <span className='ministry'>{item.ministry}&nbsp;</span>\n                <span className='promulgation'>\n                  공포일자 :{' '}\n                  {format(new Date(item.promulgation_date), 'yyyy.MM.dd')}&nbsp;\n                </span>\n                <span className='enforcement'>\n                  시행일자 :{' '}\n                  {format(new Date(item.enforcement_date), 'yyyy.MM.dd')}\n                </span>\n              </div>\n            ));\n          }} */}\n          <div>\n            <Pagination items={lawlist} onChangePage={onChangePage} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n    lawDetail: state.lawinfo.lawDetail,\n  }),\n  (dispatch) => ({\n    searchlist: (data) => dispatch(searchlist.searchlist(data)),\n    lawinfo: (data) => dispatch(lawinfo.lawinfo(data)),\n  })\n)(withRouter(SR));\n"]},"metadata":{},"sourceType":"module"}