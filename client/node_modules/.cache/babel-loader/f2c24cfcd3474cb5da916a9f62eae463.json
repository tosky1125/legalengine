{"ast":null,"code":"var _jsxFileName = \"/home/jun/carillon_codestates/client/src/components/SideInfo.js\";\nimport React, { useState } from 'react';\nimport './SideInfo.css';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\n\nfunction SideInfo(props) {\n  const [isLoaded, setisLoaded] = useState(false);\n  const {\n    match\n  } = props;\n  const [name] = useState(match.params.key); // 연관법령 데이터\n\n  const {\n    RelatedLaw\n  } = props;\n  console.log(RelatedLaw); // 클릭시 syntax url에 맞는 쿼리문으로 포맷해 새창에서 열기\n  // 기존 방식은 IE 에서 팝업창으로 인식하는 경우가 있어, 새탭이 아닌\n  // 완전히 새로운 창에서 여는 방식을 채택. 하지만 고객 선호에 따라 수정해야할 수 있음.\n\n  const handleClickSearch = (name, lawNum, enfDate) => {\n    const {\n      Law,\n      Related,\n      Result\n    } = props;\n    const payload = {\n      lawNum,\n      enfDate\n    };\n    axios.post(`http://13.125.112.243/law/${encodeURIComponent(name)}?lawNum=${lawNum}&enfDate=${enfDate}`, payload).then(data => {\n      Related(data.data.Related);\n      Law(data.data.Law);\n      Result(data.data.Law.context);\n      setisLoaded(true);\n    }).then(() => {\n      window.open(`/law/${encodeURIComponent(name.replace(/[^가-힣^0-9]/g, ''))}?lawNum=${lawNum}&enfDate=${format(new Date(enfDate), 'yyyy-MM-dd')}`, '_blank' // 'width=1200, height=800, top=120, left=350, resizable=yes', // 팝업 확인 없이 새창\n      );\n    }).catch(err => {\n      if (err.res) {\n        console.log(err.res.data);\n        console.log(err.res.status);\n        console.log(err.res.headers);\n      } else if (err.req) {\n        console.log(err.req);\n      } else {\n        console.log('Error', err.message);\n      }\n\n      console.log(err.config);\n    });\n  }; // 서버에서 받아온 정보가 없을 경우 (서버와 연결 장애 혹은 데이터 없음)\n\n\n  if (RelatedLaw.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), RelatedLaw.map((sideInfo, sideInfoIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    className: sideInfo.name.replace(/[^ㄱ-ㅎ가-힇0-9]/g, '') === name ? 'selected-info' : 'sideInfo-body',\n    key: sideInfoIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: sideInfo.name.replace(/[^ㄱ-ㅎ가-힇0-9]/g, '') === name ? 'selected-title' : 'sideInfo-title',\n    onClick: () => handleClickSearch(sideInfo.name, sideInfo.number, sideInfo.enforcement_date),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, sideInfo.name)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sideInfo-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"[\\uC2DC\\uD589\", ' ', format(new Date(sideInfo.enforcement_date), 'yyyy.MM.dd.'), \"]\", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"[\", sideInfo.type, \"\\xA0\", sideInfo.number, \"\\uD638,\\xA0\", format(new Date(sideInfo.promulgation_date), 'yyyy.MM.dd.'), \"\\xA0\", sideInfo.amendment_status, \"]\")))));\n}\n\nexport default connect(state => ({\n  lawList: state.searchList.lawList,\n  Law: state.Law.Law,\n  RelatedLaw: state.Related.Related,\n  Result: state.Result.Result\n}), dispatch => ({\n  Law: data => dispatch(Law.Law(data)),\n  Related: data => dispatch(Related.Related(data)),\n  Result: data => dispatch(Result.Result(data))\n}))(withRouter(SideInfo));","map":{"version":3,"sources":["/home/jun/carillon_codestates/client/src/components/SideInfo.js"],"names":["React","useState","connect","axios","format","withRouter","Law","Related","Result","SideInfo","props","isLoaded","setisLoaded","match","name","params","key","RelatedLaw","console","log","handleClickSearch","lawNum","enfDate","payload","post","encodeURIComponent","then","data","context","window","open","replace","Date","catch","err","res","status","headers","req","message","config","length","map","sideInfo","sideInfoIndex","number","enforcement_date","type","promulgation_date","amendment_status","state","lawList","searchList","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './SideInfo.css';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\n\nfunction SideInfo(props) {\n  const [isLoaded, setisLoaded] = useState(false);\n  const { match } = props;\n  const [name] = useState(match.params.key);\n  // 연관법령 데이터\n  const { RelatedLaw } = props;\n  console.log(RelatedLaw);\n  // 클릭시 syntax url에 맞는 쿼리문으로 포맷해 새창에서 열기\n  // 기존 방식은 IE 에서 팝업창으로 인식하는 경우가 있어, 새탭이 아닌\n  // 완전히 새로운 창에서 여는 방식을 채택. 하지만 고객 선호에 따라 수정해야할 수 있음.\n  const handleClickSearch = (name, lawNum, enfDate) => {\n    const { Law, Related, Result } = props;\n    const payload = { lawNum, enfDate };\n    axios\n      .post(\n        `http://13.125.112.243/law/${encodeURIComponent(\n          name,\n        )}?lawNum=${lawNum}&enfDate=${enfDate}`,\n        payload,\n      )\n      .then((data) => {\n        Related(data.data.Related);\n        Law(data.data.Law);\n        Result(data.data.Law.context);\n        setisLoaded(true);\n      })\n      .then(() => {\n        window.open(\n          `/law/${encodeURIComponent(\n            name.replace(/[^가-힣^0-9]/g, ''),\n          )}?lawNum=${lawNum}&enfDate=${format(\n            new Date(enfDate),\n            'yyyy-MM-dd',\n          )}`,\n          '_blank',\n          // 'width=1200, height=800, top=120, left=350, resizable=yes', // 팝업 확인 없이 새창\n        );\n      })\n      .catch((err) => {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n  // 서버에서 받아온 정보가 없을 경우 (서버와 연결 장애 혹은 데이터 없음)\n  if (RelatedLaw.length === 0) {\n    return (\n      <div>\n        <div>검색 결과가 없습니다.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <link\n        rel='stylesheet'\n        href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'\n      />\n      {RelatedLaw.map((sideInfo, sideInfoIndex) => (\n        <div className={sideInfo.name.replace(/[^ㄱ-ㅎ가-힇0-9]/g, '') === name ? 'selected-info' : 'sideInfo-body'} key={sideInfoIndex}>\n          <button\n            className={sideInfo.name.replace(/[^ㄱ-ㅎ가-힇0-9]/g, '') === name ? 'selected-title' : 'sideInfo-title'}\n            onClick={() => handleClickSearch(\n              sideInfo.name,\n              sideInfo.number,\n              sideInfo.enforcement_date,\n            )}\n            type='button'\n          >\n            <h4>{sideInfo.name}</h4>\n          </button>\n          <p className='sideInfo-info'>\n            [시행\n            {' '}\n            {format(new Date(sideInfo.enforcement_date), 'yyyy.MM.dd.')}\n            ]\n            <p>\n              [\n              {sideInfo.type}\n              &nbsp;\n              {sideInfo.number}\n              호,&nbsp;\n              {format(new Date(sideInfo.promulgation_date), 'yyyy.MM.dd.')}\n              &nbsp;\n              {sideInfo.amendment_status}\n              ]\n            </p>\n          </p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawList: state.searchList.lawList,\n    Law: state.Law.Law,\n    RelatedLaw: state.Related.Related,\n    Result: state.Result.Result,\n  }),\n  (dispatch) => ({\n    Law: (data) => dispatch(Law.Law(data)),\n    Related: (data) => dispatch(Related.Related(data)),\n    Result: (data) => dispatch(Result.Result(data)),\n  }),\n)(withRouter(SideInfo));\n"]},"metadata":{},"sourceType":"module"}