{"ast":null,"code":"import _slicedToArray from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./SideInfo.css';import{connect}from'react-redux';import axios from'axios';import{format}from'date-fns';import{withRouter}from'react-router-dom';import*as _Law from'../modules/Law';import*as _Related from'../modules/Related';import*as _Result from'../modules/Result';function SideInfo(props){// let sideInfoData = JSON.parse(localStorage.related);\n// console.log(sideInfoData);\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoaded=_useState2[0],setisLoaded=_useState2[1];var RelatedLaw=props.RelatedLaw;console.log(RelatedLaw);var handleClickSearch=function handleClickSearch(name,lawNum,enfDate){var Law=props.Law,Related=props.Related,Result=props.Result;var payload={lawNum:lawNum,enfDate:enfDate};axios.post(\"http://13.125.112.243/law/\".concat(encodeURIComponent(name),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(enfDate),payload).then(function(data){Related(data.data.Related);Law(data.data.Law);Result(data.data.Law.context);// console.log(data.data);\n// localStorage.Law = JSON.stringify(res.data.Law);\nsetisLoaded(true);}).then(function(){window.open(\"/law/\".concat(encodeURIComponent(name.replace(/[^가-힣^0-9]/g,'')),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(format(new Date(enfDate),'yyyy-MM-dd')),'_blank');}).catch(function(err){if(err.res){console.log(err.res.data);console.log(err.res.status);console.log(err.res.headers);}else if(err.req){console.log(err.req);}else{console.log('Error',err.message);}console.log(err.config);});};if(RelatedLaw.length===0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\"}),RelatedLaw.map(function(sideInfo,sideInfoIndex){return/*#__PURE__*/React.createElement(\"div\",{className:\"sideInfo-body\",key:sideInfoIndex},/*#__PURE__*/React.createElement(\"h4\",{className:\"sideInfo-title\",onClick:function onClick(){return handleClickSearch(sideInfo.name,sideInfo.number,sideInfo.enforcement_date);}},sideInfo.name),/*#__PURE__*/React.createElement(\"p\",{className:\"sideInfo-info\"},\"[\\uC2DC\\uD589 \",format(new Date(sideInfo.enforcement_date),'yyyy.MM.dd.'),\"]\",/*#__PURE__*/React.createElement(\"p\",null,\"[\",sideInfo.type,\"\\xA0\",sideInfo.number,\"\\uD638,\\xA0\",format(new Date(sideInfo.promulgation_date),'yyyy.MM.dd.'),\"\\xA0\",sideInfo.amendment_status,\"]\")));}));}export default connect(function(state){return{lawlist:state.searchlist.lawlist,Law:state.Law.Law,RelatedLaw:state.Related.Related,Result:state.Result.Result};},function(dispatch){return{Law:function Law(data){return dispatch(_Law.Law(data));},Related:function Related(data){return dispatch(_Related.Related(data));},Result:function Result(data){return dispatch(_Result.Result(data));}};})(withRouter(SideInfo));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SideInfo.js"],"names":["React","useState","connect","axios","format","withRouter","Law","Related","Result","SideInfo","props","isLoaded","setisLoaded","RelatedLaw","console","log","handleClickSearch","name","lawNum","enfDate","payload","post","encodeURIComponent","then","data","context","window","open","replace","Date","catch","err","res","status","headers","req","message","config","length","map","sideInfo","sideInfoIndex","number","enforcement_date","type","promulgation_date","amendment_status","state","lawlist","searchlist","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './SideInfo.css';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\n\nfunction SideInfo(props) {\n  // let sideInfoData = JSON.parse(localStorage.related);\n  // console.log(sideInfoData);\n  const [isLoaded, setisLoaded] = useState(false);\n\n  const { RelatedLaw } = props;\n  console.log(RelatedLaw);\n\n  const handleClickSearch = (name, lawNum, enfDate) => {\n    const { Law, Related, Result } = props;\n    const payload = { lawNum, enfDate };\n    axios\n      .post(\n        `http://13.125.112.243/law/${encodeURIComponent(\n          name\n        )}?lawNum=${lawNum}&enfDate=${enfDate}`,\n        payload\n      )\n      .then((data) => {\n        Related(data.data.Related);\n        Law(data.data.Law);\n        Result(data.data.Law.context);\n        // console.log(data.data);\n        // localStorage.Law = JSON.stringify(res.data.Law);\n        setisLoaded(true);\n      })\n      .then(() => {\n        window.open(\n          `/law/${encodeURIComponent(\n            name.replace(/[^가-힣^0-9]/g, '')\n          )}?lawNum=${lawNum}&enfDate=${format(\n            new Date(enfDate),\n            'yyyy-MM-dd'\n          )}`,\n          '_blank'\n        );\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  if (RelatedLaw.length === 0) {\n    return (\n      <div>\n        <div>검색 결과가 없습니다.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <link\n        rel='stylesheet'\n        href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'\n      />\n      {RelatedLaw.map((sideInfo, sideInfoIndex) => (\n        <div className='sideInfo-body' key={sideInfoIndex}>\n          <h4\n            className='sideInfo-title'\n            onClick={() =>\n              handleClickSearch(\n                sideInfo.name,\n                sideInfo.number,\n                sideInfo.enforcement_date\n              )\n            }\n          >\n            {sideInfo.name}\n          </h4>\n          <p className='sideInfo-info'>\n            [시행 {format(new Date(sideInfo.enforcement_date), 'yyyy.MM.dd.')}]\n            <p>\n              [{sideInfo.type}\n              &nbsp;\n              {sideInfo.number}호,&nbsp;\n              {format(new Date(sideInfo.promulgation_date), 'yyyy.MM.dd.')}\n              &nbsp;\n              {sideInfo.amendment_status}]\n            </p>\n          </p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n    Law: state.Law.Law,\n    RelatedLaw: state.Related.Related,\n    Result: state.Result.Result,\n  }),\n  (dispatch) => ({\n    Law: (data) => dispatch(Law.Law(data)),\n    Related: (data) => dispatch(Related.Related(data)),\n    Result: (data) => dispatch(Result.Result(data)),\n  })\n)(withRouter(SideInfo));\n"]},"metadata":{},"sourceType":"module"}