{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchResult.js\";\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport Pagination from './Pagination';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\nimport { Row, Col, Card, Table, Tabs, Tab } from 'react-bootstrap';\n\nclass SearchResult extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickSearch = (name, lawNum, enfDate) => {\n      const {\n        Law,\n        Related,\n        Result,\n        history\n      } = this.props;\n      const payload = {\n        lawNum,\n        enfDate\n      };\n      axios.post(`http://13.125.112.243:80/law/${encodeURIComponent(name)}?lawNum=${lawNum}&enfDate=${enfDate}`, payload).then(res => {\n        console.log(res.data);\n        Related(res.data.Related);\n        Law(res.data.Law);\n        Result(res.data.Law.context); // localStorage.Law = JSON.stringify(res.data.Law);\n        // localStorage.related = JSON.stringify(res.data.Related);\n\n        this.setState({\n          isLoaded: true\n        });\n      }).then(() => {\n        window.open(`/law/${encodeURIComponent(name.replace(/[^가-힣^0-9]/g, ''))}?lawNum=${lawNum}&enfDate=${format(new Date(enfDate), 'yyyy-MM-dd')}`, '_blank');\n      }).catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n\n        console.log(err.config);\n      });\n    };\n\n    this.state = {\n      pageOfItems: [],\n      isLoaded: false\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  onChangePage(pageOfItems) {\n    // 데이터들의 새로운 페이지로 스테이트 업데이트\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  render() {\n    if (this.props.lawlist.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchresult-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(SearchBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"searchresult-empty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }, \"\\uB2E4\\uB978 \\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\")))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchresult-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"searchresult-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      as: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, ' ', \"\\uCD1D \", this.props.lawlist.length, \" \\uAC74\\uC758 \\uACB0\\uACFC\")), /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"px-0 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      hover: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, this.state.pageOfItems.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"searchresult-section\",\n      key: index,\n      onClick: () => this.handleClickSearch(item.name, item.number, item.enforcement_date),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-1 col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 27\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, item.type), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, item.number, \"\\uD638\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-admendment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, item.amendment_status), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-ministry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, item.ministry), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-promulgation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, \"\\uC2DC\\uD589\\uC77C\\uC790 :\", ' ', format(new Date(item.enforcement_date), 'yyyy.MM.dd')), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"searchresult-enforcement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }, \"\\uACF5\\uD3EC\\uC77C\\uC790 :\", ' ', format(new Date(item.promulgation_date), 'yyyy.MM.dd'), \"\\xA0\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      items: this.props.lawlist,\n      onChangePage: this.onChangePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n/* \n<div className='searchresult-law-number'>\n            총 {this.props.lawlist.length} 건의 결과\n          </div>\n          <div className='searchresult-page-list text-center'>\n            {this.state.pageOfItems.map((item, index) => (\n              <div\n                to='/view'\n                target='_blank'\n                className='searchresult-page'\n                key={index}\n                onClick={() =>\n                  this.handleClickSearch(\n                    item.name,\n                    item.number,\n                    item.enforcement_date\n                  )\n                }\n              >\n                <h3 className='searchresult-name'>{item.name}</h3>\n\n                <span className='searchresult-type'>{item.type}&nbsp;</span>\n                <span className='searchresult-number'>\n                  {item.number}호&nbsp;\n                </span>\n                <span className='searchresult-admendment'>\n                  {item.amendment_status}&nbsp;\n                </span>\n                <span className='searchresult-ministry'>\n                  {item.ministry}&nbsp;\n                </span>\n                <span className='searchresult-promulgation'>\n                  공포일자 :{' '}\n                  {format(new Date(item.promulgation_date), 'yyyy.MM.dd')}&nbsp;\n                </span>\n                <span className='searchresult-enforcement'>\n                  시행일자 :{' '}\n                  {format(new Date(item.enforcement_date), 'yyyy.MM.dd')}\n                </span>\n              </div>\n            ))}\n*/\n\n\nexport default connect(state => ({\n  lawlist: state.searchlist.lawlist,\n  Law: state.Law.Law,\n  Related: state.Related.Related,\n  Result: state.Result.Result\n}), dispatch => ({\n  searchlist: data => dispatch(searchlist.searchlist(data)),\n  Law: data => dispatch(Law.Law(data)),\n  Related: data => dispatch(Related.Related(data)),\n  Result: data => dispatch(Result.Result(data))\n}))(withRouter(SearchResult));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchResult.js"],"names":["React","SearchBar","connect","searchlist","Pagination","axios","withRouter","Law","Related","Result","format","Row","Col","Card","Table","Tabs","Tab","SearchResult","Component","constructor","props","handleClickSearch","name","lawNum","enfDate","history","payload","post","encodeURIComponent","then","res","console","log","data","context","setState","isLoaded","window","open","replace","Date","catch","err","status","headers","req","message","config","state","pageOfItems","onChangePage","bind","render","lawlist","length","map","item","index","number","enforcement_date","type","amendment_status","ministry","promulgation_date","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchBar from './SearchBar';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport Pagination from './Pagination';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\nimport './SearchResult.css';\nimport { format } from 'date-fns';\nimport { Row, Col, Card, Table, Tabs, Tab } from 'react-bootstrap';\n\nclass SearchResult extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageOfItems: [],\n      isLoaded: false,\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  onChangePage(pageOfItems) {\n    // 데이터들의 새로운 페이지로 스테이트 업데이트\n    this.setState({ pageOfItems: pageOfItems });\n  }\n\n  handleClickSearch = (name, lawNum, enfDate) => {\n    const { Law, Related, Result, history } = this.props;\n    const payload = { lawNum, enfDate };\n    axios\n      .post(\n        `http://13.125.112.243:80/law/${encodeURIComponent(\n          name\n        )}?lawNum=${lawNum}&enfDate=${enfDate}`,\n        payload\n      )\n      .then((res) => {\n        console.log(res.data);\n        Related(res.data.Related);\n        Law(res.data.Law);\n        Result(res.data.Law.context);\n        // localStorage.Law = JSON.stringify(res.data.Law);\n        // localStorage.related = JSON.stringify(res.data.Related);\n        this.setState({\n          isLoaded: true,\n        });\n      })\n      .then(() => {\n        window.open(\n          `/law/${encodeURIComponent(\n            name.replace(/[^가-힣^0-9]/g, '')\n          )}?lawNum=${lawNum}&enfDate=${format(\n            new Date(enfDate),\n            'yyyy-MM-dd'\n          )}`,\n          '_blank'\n        );\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  render() {\n    if (this.props.lawlist.length === 0) {\n      return (\n        <div>\n          <div className='searchresult-container'>\n            <SearchBar />\n            <div className='searchresult-empty'>\n              <h3>\n                <p>검색 결과가 없습니다.</p>\n                <p>다른 검색어를 입력해주시기 바랍니다.</p>\n              </h3>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className='searchresult-container'>\n        <SearchBar />\n        <link\n          rel='stylesheet'\n          href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'\n        />\n        <Row>\n        <Col md={1}></Col>\n          <Col md={10}>\n            <Card className='searchresult-form'>\n              <Card.Header>\n                <Card.Title as='h5'>\n                  {' '}\n                  총 {this.props.lawlist.length} 건의 결과\n                </Card.Title>\n              </Card.Header>\n              <Card.Body className='px-0 py-2'>\n                <Table responsive hover>\n                  <tbody>\n                    {this.state.pageOfItems.map((item, index) => (\n                      <tr\n                        className='searchresult-section'\n                        key={index}\n                        onClick={() =>\n                          this.handleClickSearch(\n                            item.name,\n                            item.number,\n                            item.enforcement_date\n                          )\n                        }\n                      >\n                        <td>\n                          <h4 className='mb-1 col-4'>{item.name}</h4>\n                          <p className='m-0'>\n                            <span className='searchresult-type'>\n                              {item.type}\n                            </span>\n                            <span className='searchresult-number'>\n                              {item.number}호\n                            </span>\n                            <span className='searchresult-admendment'>\n                              {item.amendment_status}\n                            </span>\n                            <span className='searchresult-ministry'>\n                              {item.ministry}\n                            </span>\n                            <span className='searchresult-promulgation'>\n                              시행일자 :{' '}\n                              {format(\n                                new Date(item.enforcement_date),\n                                'yyyy.MM.dd'\n                              )}\n                            </span>\n                            <span className='searchresult-enforcement'>\n                              공포일자 :{' '}\n                              {format(\n                                new Date(item.promulgation_date),\n                                'yyyy.MM.dd'\n                              )}\n                              &nbsp;\n                            </span>\n                          </p>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n                <div className='text-center'>\n                  <Pagination\n                    items={this.props.lawlist}\n                    onChangePage={this.onChangePage}\n                  />\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={1}></Col>\n        </Row>\n      </div>\n    );\n  }\n}\n/* \n<div className='searchresult-law-number'>\n            총 {this.props.lawlist.length} 건의 결과\n          </div>\n          <div className='searchresult-page-list text-center'>\n            {this.state.pageOfItems.map((item, index) => (\n              <div\n                to='/view'\n                target='_blank'\n                className='searchresult-page'\n                key={index}\n                onClick={() =>\n                  this.handleClickSearch(\n                    item.name,\n                    item.number,\n                    item.enforcement_date\n                  )\n                }\n              >\n                <h3 className='searchresult-name'>{item.name}</h3>\n\n                <span className='searchresult-type'>{item.type}&nbsp;</span>\n                <span className='searchresult-number'>\n                  {item.number}호&nbsp;\n                </span>\n                <span className='searchresult-admendment'>\n                  {item.amendment_status}&nbsp;\n                </span>\n                <span className='searchresult-ministry'>\n                  {item.ministry}&nbsp;\n                </span>\n                <span className='searchresult-promulgation'>\n                  공포일자 :{' '}\n                  {format(new Date(item.promulgation_date), 'yyyy.MM.dd')}&nbsp;\n                </span>\n                <span className='searchresult-enforcement'>\n                  시행일자 :{' '}\n                  {format(new Date(item.enforcement_date), 'yyyy.MM.dd')}\n                </span>\n              </div>\n            ))}\n*/\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n    Law: state.Law.Law,\n    Related: state.Related.Related,\n    Result: state.Result.Result,\n  }),\n  (dispatch) => ({\n    searchlist: (data) => dispatch(searchlist.searchlist(data)),\n    Law: (data) => dispatch(Law.Law(data)),\n    Related: (data) => dispatch(Related.Related(data)),\n    Result: (data) => dispatch(Result.Result(data)),\n  })\n)(withRouter(SearchResult));\n"]},"metadata":{},"sourceType":"module"}