{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/ViewPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\nimport SideInfo from '../components/SideInfo';\nimport ArticleLink from '../components/ArticleLink';\nimport './ViewPage.css';\nimport ConvertToPDF from '../components/ConvertToPDF';\nimport queryString from 'query-string';\nimport Spinner from 'react-bootstrap/Spinner';\n\nfunction ViewPage(props) {\n  const [isLoaded, setisLoaded] = useState(false);\n  const {\n    Law,\n    Related,\n    Result\n  } = props;\n  const [name] = useState(props.match.params.key);\n  const {\n    lawNum,\n    enfDate\n  } = queryString.parse(props.location.search);\n  useEffect(() => {\n    const payload = {\n      lawNum,\n      enfDate\n    }; // setTimeout(() => {\n    //   setisLoaded(true);\n    // }, 1000);\n\n    let url = `http://13.125.112.243/law/${encodeURIComponent(name)}?lawNum=${lawNum}&enfDate=${enfDate}`;\n\n    if (!lawNum) {\n      url = `http://13.125.112.243/law/${name}?enfDate=${enfDate}`;\n    }\n\n    axios.post(url, payload).then(data => {\n      Related(data.data.Related);\n      Law(data.data.Law);\n      Result(data.data.Law.context);\n      console.log(data.data.Law);\n      console.log(data.data.Related); // console.log(data.data.Law.context);\n\n      setisLoaded(true);\n    }).catch(function (err) {\n      if (err.res) {\n        console.log(err.res.data);\n        console.log(err.res.status);\n        console.log(err.res.headers);\n      } else if (err.req) {\n        console.log(err.req);\n      } else {\n        console.log('Error', err.message);\n      }\n\n      console.log(err.config);\n    });\n  }, []);\n\n  if (isLoaded === true) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewpage-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewpage-sideinfo-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SideInfo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewpage-articlelink-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ArticleLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(ConvertToPDF, {\n      name: name,\n      lawNum: lawNum,\n      enfDate: enfDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, \"hi\"), /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"grow\",\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"grow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }));\n  }\n}\n\nexport default connect(state => ({\n  Law: state.Law.Law,\n  Related: state.Related.Related,\n  Result: state.Result.Result\n}), dispatch => ({\n  Law: data => dispatch(Law.Law(data)),\n  Related: data => dispatch(Related.Related(data)),\n  Result: data => dispatch(Result.Result(data))\n}))(withRouter(ViewPage));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/ViewPage.js"],"names":["React","useState","useEffect","axios","connect","withRouter","Law","Related","Result","SideInfo","ArticleLink","ConvertToPDF","queryString","Spinner","ViewPage","props","isLoaded","setisLoaded","name","match","params","key","lawNum","enfDate","parse","location","search","payload","url","encodeURIComponent","post","then","data","context","console","log","catch","err","res","status","headers","req","message","config","state","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport * as Law from '../modules/Law';\nimport * as Related from '../modules/Related';\nimport * as Result from '../modules/Result';\nimport SideInfo from '../components/SideInfo';\nimport ArticleLink from '../components/ArticleLink';\nimport './ViewPage.css';\nimport ConvertToPDF from '../components/ConvertToPDF';\nimport queryString from 'query-string';\nimport Spinner from 'react-bootstrap/Spinner';\n\nfunction ViewPage(props) {\n  const [isLoaded, setisLoaded] = useState(false);\n  const { Law, Related, Result } = props;\n  const [name] = useState(props.match.params.key);\n  const { lawNum, enfDate } = queryString.parse(props.location.search);\n\n  useEffect(() => {\n    const payload = { lawNum, enfDate };\n\n    // setTimeout(() => {\n    //   setisLoaded(true);\n    // }, 1000);\n\n    let url = `http://13.125.112.243/law/${encodeURIComponent(\n      name\n    )}?lawNum=${lawNum}&enfDate=${enfDate}`;\n\n    if (!lawNum) {\n      url = `http://13.125.112.243/law/${name}?enfDate=${enfDate}`;\n    }\n    axios\n      .post(url, payload)\n      .then((data) => {\n        Related(data.data.Related);\n        Law(data.data.Law);\n        Result(data.data.Law.context);\n        console.log(data.data.Law);\n        console.log(data.data.Related);\n        // console.log(data.data.Law.context);\n        setisLoaded(true);\n      })\n      .catch(function (err) {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  }, []);\n\n  if (isLoaded === true) {\n    return (\n        <div className='viewpage-container'>\n          <div className='viewpage-sideinfo-container'>\n            <SideInfo />\n          </div>\n          <div className='viewpage-articlelink-container'>\n            <ArticleLink />\n          </div>\n          <ConvertToPDF name={name} lawNum={lawNum} enfDate={enfDate} />\n        </div>\n    );\n  } else {\n    return (\n      <div>\n      <div>hi</div>\n      <Spinner animation=\"border\" size=\"sm\" />\n      <Spinner animation=\"border\" />\n      <Spinner animation=\"grow\" size=\"sm\" />\n      <Spinner animation=\"grow\" />\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  (state) => ({\n    Law: state.Law.Law,\n    Related: state.Related.Related,\n    Result: state.Result.Result,\n  }),\n  (dispatch) => ({\n    Law: (data) => dispatch(Law.Law(data)),\n    Related: (data) => dispatch(Related.Related(data)),\n    Result: (data) => dispatch(Result.Result(data)),\n  })\n)(withRouter(ViewPage));\n"]},"metadata":{},"sourceType":"module"}