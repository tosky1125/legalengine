{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchBar.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport './SearchBar.css';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { Col, Container } from 'react-bootstrap';\nimport * as searchList from '../modules/SearchList';\nimport * as searchWord from '../modules/SearchWord';\n\nfunction SearchBar(props) {\n  const [word, setWord] = useState('');\n  const [isLoaded, setisLoaded] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const today = format(new Date(), 'yyyy-MM-dd');\n  const [searchDate, setSearchDate] = useState(today);\n\n  const handleChangeTerm = e => {\n    setWord(e.target.value);\n  };\n\n  const handleChangeDate = e => {\n    setSearchDate(e.target.value);\n  };\n\n  const handleSearch = () => {\n    const payload = {\n      searchWord: word,\n      date: searchDate\n    };\n    const {\n      searchList,\n      history,\n      searchWord\n    } = props;\n    searchWord(word);\n    axios.post('http://13.125.112.243/search', payload).then(res => {\n      searchList(res.data);\n      setisLoaded(true);\n    }).then(() => {\n      history.push('/search');\n    }).catch(err => {\n      if (err.res) {\n        console.log(err.res.data);\n        console.log(err.res.status);\n        console.log(err.res.headers);\n      } else if (err.req) {\n        console.log(err.req);\n      } else {\n        console.log('Error', err.message);\n      }\n\n      console.log(err.config);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchbar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"searchbar-form\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmit(handleSearch),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchbar-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"setWord\",\n    className: \"searchbar-box-word\",\n    ref: register({\n      required: true,\n      minLength: 2,\n      pattern: /^[ㄱ-ㅎ|가-힣|a-z|A-Z|  0-9|*+$]/\n    }),\n    placeholder: \"\\uBC95\\uB839\\uC744 \\uAC80\\uC0C9\\uD574\\uBCF4\\uC138\\uC694.\",\n    onChange: handleChangeTerm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date\",\n    className: \"searchbar-box-calendar\",\n    value: searchDate,\n    onChange: handleChangeDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"searchbar-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"\\uAC80\\uC0C9\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"valid-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, errors.setWord && '문자와 숫자 2글자 이상 입력해주세요.')), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default connect(state => ({\n  seachlist: state.searchList.seachList,\n  searchWord: state.searchWord.searchWord\n}), dispatch => ({\n  searchList: data => dispatch(searchList.searchList(data)),\n  searchWord: data => dispatch(searchWord.searchWord(data))\n}))(withRouter(SearchBar));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchBar.js"],"names":["React","useState","useForm","axios","connect","withRouter","format","Col","Container","searchList","searchWord","SearchBar","props","word","setWord","isLoaded","setisLoaded","register","handleSubmit","errors","today","Date","searchDate","setSearchDate","handleChangeTerm","e","target","value","handleChangeDate","handleSearch","payload","date","history","post","then","res","data","push","catch","err","console","log","status","headers","req","message","config","required","minLength","pattern","state","seachlist","seachList","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport './SearchBar.css';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport { Col, Container } from 'react-bootstrap';\nimport * as searchList from '../modules/SearchList';\nimport * as searchWord from '../modules/SearchWord';\n\nfunction SearchBar(props) {\n  const [word, setWord] = useState('');\n  const [isLoaded, setisLoaded] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n\n  const today = format(new Date(), 'yyyy-MM-dd');\n  const [searchDate, setSearchDate] = useState(today);\n\n  const handleChangeTerm = (e) => {\n    setWord(e.target.value);\n  };\n\n  const handleChangeDate = (e) => {\n    setSearchDate(e.target.value);\n  };\n\n  const handleSearch = () => {\n    const payload = { searchWord: word, date: searchDate };\n    const { searchList, history, searchWord } = props;\n    searchWord(word);\n\n    axios\n      .post('http://13.125.112.243/search', payload)\n      .then((res) => {\n        searchList(res.data);\n        setisLoaded(true);\n      })\n      .then(() => {\n        history.push('/search');\n      })\n      .catch((err) => {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  return (\n    <div>\n      <Container>\n        <div className='searchbar-container'>\n          <Col md={2} />\n          <form\n            className='searchbar-form'\n            autoComplete='off'\n            onSubmit={handleSubmit(handleSearch)}\n          >\n            <Col md={8}>\n              <div className='searchbar-box'>\n                <input\n                  type='text'\n                  name='setWord'\n                  className='searchbar-box-word'\n                  ref={register({\n                    required: true,\n                    minLength: 2,\n                    pattern: /^[ㄱ-ㅎ|가-힣|a-z|A-Z|  0-9|*+$]/,\n                  })}\n                  placeholder='법령을 검색해보세요.'\n                  onChange={handleChangeTerm}\n                />\n                <input\n                  type='date'\n                  name='date'\n                  className='searchbar-box-calendar'\n                  value={searchDate}\n                  onChange={handleChangeDate}\n                />\n                <button className='searchbar-btn' type='submit'>\n                  검색\n                </button>\n              </div>\n              <p className='valid-error'>\n                {errors.setWord && '문자와 숫자 2글자 이상 입력해주세요.'}\n              </p>\n            </Col>\n            <Col md={2} />\n          </form>\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    seachlist: state.searchList.seachList,\n    searchWord: state.searchWord.searchWord,\n  }),\n  (dispatch) => ({\n    searchList: (data) => dispatch(searchList.searchList(data)),\n    searchWord: (data) => dispatch(searchWord.searchWord(data)),\n  }),\n)(withRouter(SearchBar));\n"]},"metadata":{},"sourceType":"module"}