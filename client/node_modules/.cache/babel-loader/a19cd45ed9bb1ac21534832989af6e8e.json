{"ast":null,"code":"var _jsxFileName = \"/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchBar.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport './SearchBar.css';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport { withRouter } from 'react-router-dom';\nimport { format } from 'date-fns';\n\nfunction SearchBar(props) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoaded, setisLoaded] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const today = format(new Date(), 'yyyy-MM-dd');\n  /* date-fns가 호환성에 이슈가 있으면 아래 코드 사용 가능\n  const today = new Date();\n  const month = today.getUTCMonth() + 1;\n  const day = today.getUTCDate();\n  const year = today.getUTCFullYear();\n  const defaultDay = year + '-' + month + '-' + day;\n  */\n\n  const [searchDate, setSearchDate] = useState(today);\n\n  const handleChangeTerm = e => {\n    setSearchTerm(e.target.value);\n    console.log(e.target.value);\n  };\n\n  const handleChangeDate = e => {\n    setSearchDate(e.target.value);\n    console.log(e.target.value);\n  };\n\n  const handleSearch = () => {\n    const payload = {\n      searchWord: searchTerm,\n      date: searchDate\n    };\n    const {\n      searchlist,\n      history\n    } = props;\n    axios.post('http://13.125.112.243/search', payload).then(res => {\n      searchlist(res.data);\n      console.log(res.data);\n      setisLoaded(true);\n      history.push('/search');\n    }).catch(err => {\n      if (err.res) {\n        console.log(err.res.data);\n        console.log(err.res.status);\n        console.log(err.res.headers);\n      } else if (err.req) {\n        console.log(err.req);\n      } else {\n        console.log('Error', err.message);\n      }\n\n      console.log(err.config);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"search-form\",\n    onSubmit: handleSubmit(handleSearch),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"law\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"\\uBC95\\uB839\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"\\uB0A0\\uC9DC\")), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"search-Term\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"setSearchTerm\",\n    ref: register({\n      required: true,\n      minLength: 2,\n      pattern: /^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|*+$]/\n    }),\n    placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n    onChange: handleChangeTerm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"search-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date\",\n    value: searchDate,\n    onChange: handleChangeDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"\\uAC80\\uC0C9\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"valid-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, errors.setSearchTerm && '문자&숫자 2글자 이상 입력 가능합니다.'), console.log(searchTerm))));\n}\n\nexport default connect(state => ({\n  lawlist: state.searchlist.lawlist\n}), dispatch => ({\n  searchlist: data => dispatch(searchlist.searchlist(data))\n}))(withRouter(SearchBar));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/components/SearchBar.js"],"names":["React","useState","useForm","axios","connect","searchlist","withRouter","format","SearchBar","props","searchTerm","setSearchTerm","isLoaded","setisLoaded","register","handleSubmit","errors","today","Date","searchDate","setSearchDate","handleChangeTerm","e","target","value","console","log","handleChangeDate","handleSearch","payload","searchWord","date","history","post","then","res","data","push","catch","err","status","headers","req","message","config","required","minLength","pattern","state","lawlist","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport './SearchBar.css';\nimport { connect } from 'react-redux';\nimport * as searchlist from '../modules/searchlist';\nimport { withRouter } from 'react-router-dom';\nimport { format } from 'date-fns';\n\nfunction SearchBar(props) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoaded, setisLoaded] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n\n  const today = format(new Date(), 'yyyy-MM-dd');\n  /* date-fns가 호환성에 이슈가 있으면 아래 코드 사용 가능\n  const today = new Date();\n  const month = today.getUTCMonth() + 1;\n  const day = today.getUTCDate();\n  const year = today.getUTCFullYear();\n  const defaultDay = year + '-' + month + '-' + day;\n  */\n  const [searchDate, setSearchDate] = useState(today);\n\n  const handleChangeTerm = (e) => {\n    setSearchTerm(e.target.value);\n    console.log(e.target.value);\n  };\n\n  const handleChangeDate = (e) => {\n    setSearchDate(e.target.value);\n    console.log(e.target.value);\n  };\n\n  const handleSearch = () => {\n    const payload = { searchWord: searchTerm, date: searchDate };\n    const { searchlist, history } = props;\n\n    axios\n      .post('http://13.125.112.243/search', payload)\n      .then((res) => {\n        searchlist(res.data);\n        console.log(res.data);\n        setisLoaded(true);\n        history.push('/search');\n      })\n      .catch((err) => {\n        if (err.res) {\n          console.log(err.res.data);\n          console.log(err.res.status);\n          console.log(err.res.headers);\n        } else if (err.req) {\n          console.log(err.req);\n        } else {\n          console.log('Error', err.message);\n        }\n        console.log(err.config);\n      });\n  };\n\n  return (\n    <>\n      <div className='search-container'>\n        <form className='search-form' onSubmit={handleSubmit(handleSearch)}>\n          <div className='search-title'>\n            <span className='law'>법령</span>\n            <span className='date'>날짜</span>\n          </div>\n          <label className='search-Term'>\n            <input\n              type='text'\n              name='setSearchTerm'\n              ref={register({\n                required: true,\n                minLength: 2,\n                pattern: /^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|*+$]/,\n              })}\n              placeholder='검색어를 입력하세요'\n              onChange={handleChangeTerm}\n            />\n          </label>\n          <label className='search-date'>\n            <input\n              type='date'\n              name='date'\n              value={searchDate}\n              onChange={handleChangeDate}\n            />\n          </label>\n          <span className='search-btn'>\n            <button type='submit'>검색</button>\n          </span>\n          <div className='valid-error'>\n            {errors.setSearchTerm && '문자&숫자 2글자 이상 입력 가능합니다.'}\n          </div>\n          {console.log(searchTerm)}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    lawlist: state.searchlist.lawlist,\n  }),\n  (dispatch) => ({\n    searchlist: (data) => dispatch(searchlist.searchlist(data)),\n  })\n)(withRouter(SearchBar));\n"]},"metadata":{},"sourceType":"module"}