{"ast":null,"code":"import _classCallCheck from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/iden/Desktop/Projects/carillon_codestates/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./SearchResult.css';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import{format}from'date-fns';import{Row,Col,Card,Table}from'react-bootstrap';import*as _searchList from'../modules/SearchList';import*as _searchWord from'../modules/SearchWord';import SearchBar from'../components/SearchBar';import Pagination from'../components/Pagination';var SearchResult=/*#__PURE__*/function(_React$Component){_inherits(SearchResult,_React$Component);var _super=_createSuper(SearchResult);function SearchResult(props){var _this;_classCallCheck(this,SearchResult);_this=_super.call(this,props);_this.handleClickSearch=function(name,lawNum,enfDate){var searchTerm=_this.props.searchTerm;window.open(\"/law/\".concat(encodeURIComponent(name.replace(/[^가-힣^0-9]/g,'')),\"?lawNum=\").concat(lawNum,\"&enfDate=\").concat(format(new Date(enfDate),'yyyy-MM-dd'),\"&searchWord=\").concat(searchTerm),'_blank','width=1200, height=800, top=100, left=300');};_this.state={pageOfItems:[]};_this.onChangePage=_this.onChangePage.bind(_assertThisInitialized(_this));return _this;}// 데이터들의 새로운 페이지로 스테이트 업데이트\n_createClass(SearchResult,[{key:\"onChangePage\",value:function onChangePage(pageOfItems){this.setState({pageOfItems:pageOfItems});}// 검색 결과를 클릭하면 새로운 창을 띄우고 쿼리 요청\n},{key:\"render\",value:function render(){var _this2=this;var lawList=this.props.lawList;var pageOfItems=this.state.pageOfItems;if(lawList.length===0){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"searchresult-container\"},/*#__PURE__*/React.createElement(SearchBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"searchresult-empty\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"p\",null,\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"p\",null,\"\\uB2E4\\uB978 \\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\")))));}return/*#__PURE__*/React.createElement(\"div\",{className:\"searchresult-container\"},/*#__PURE__*/React.createElement(SearchBar,null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:1}),/*#__PURE__*/React.createElement(Col,{md:10},/*#__PURE__*/React.createElement(Card,{className:\"searchresult-form\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{as:\"h5\"},\"\\uCD1D\\xA0\",lawList.length,\"\\uAC74\\uC758 \\uACB0\\uACFC\")),/*#__PURE__*/React.createElement(Card.Body,{className:\"px-0 py-2\"},/*#__PURE__*/React.createElement(Table,{responsive:true,hover:true},/*#__PURE__*/React.createElement(\"tbody\",null,pageOfItems.map(function(item,itemIndex){return/*#__PURE__*/React.createElement(\"tr\",{key:itemIndex,className:\"searchresult-section\",onClick:function onClick(){return _this2.handleClickSearch(item.name,item.number,item.enforcement_date);}},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-3\"},item.name),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0\"},/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-type\"},item.type),/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-number\"},item.number,\"\\uD638\"),/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-admendment\"},item.amendment_status),/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-ministry\"},item.ministry),/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-promulgation\"},\"\\uC2DC\\uD589\\uC77C\\uC790 :\\xA0\",format(new Date(item.enforcement_date),'yyyy.MM.dd')),/*#__PURE__*/React.createElement(\"span\",{className:\"searchresult-enforcement\"},\"\\uACF5\\uD3EC\\uC77C\\uC790 :\\xA0\",format(new Date(item.promulgation_date),'yyyy.MM.dd'),\"\\xA0\"))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Pagination,{items:lawList,onChangePage:this.onChangePage}))))),/*#__PURE__*/React.createElement(Col,{md:1})));}}]);return SearchResult;}(React.Component);export default connect(function(state){return{lawList:state.searchList.lawList,searchTerm:state.searchWord.searchWord};},function(dispatch){return{searchList:function searchList(data){return dispatch(_searchList.searchList(data));},searchWord:function searchWord(data){return dispatch(_searchWord.searchWord(data));}};})(withRouter(SearchResult));","map":{"version":3,"sources":["/Users/iden/Desktop/Projects/carillon_codestates/client/src/pages/SearchResult.js"],"names":["React","connect","withRouter","format","Row","Col","Card","Table","searchList","searchWord","SearchBar","Pagination","SearchResult","props","handleClickSearch","name","lawNum","enfDate","searchTerm","window","open","encodeURIComponent","replace","Date","state","pageOfItems","onChangePage","bind","setState","lawList","length","map","item","itemIndex","number","enforcement_date","type","amendment_status","ministry","promulgation_date","Component","dispatch","data"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './SearchResult.css';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport {\n  Row, Col, Card, Table,\n} from 'react-bootstrap';\nimport * as searchList from '../modules/SearchList';\nimport * as searchWord from '../modules/SearchWord';\nimport SearchBar from '../components/SearchBar';\nimport Pagination from '../components/Pagination';\n\nclass SearchResult extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pageOfItems: [],\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n  }\n\n  // 데이터들의 새로운 페이지로 스테이트 업데이트\n  onChangePage(pageOfItems) {\n    this.setState({ pageOfItems });\n  }\n\n  // 검색 결과를 클릭하면 새로운 창을 띄우고 쿼리 요청\n  handleClickSearch = (name, lawNum, enfDate) => {\n    const { searchTerm } = this.props;\n\n    window.open(\n      `/law/${encodeURIComponent(\n        name.replace(/[^가-힣^0-9]/g, ''),\n      )}?lawNum=${lawNum}&enfDate=${format(\n        new Date(enfDate),\n        'yyyy-MM-dd',\n      )}&searchWord=${searchTerm}`,\n      '_blank',\n      'width=1200, height=800, top=100, left=300',\n    );\n  };\n\n  render() {\n    const { lawList } = this.props;\n    const { pageOfItems } = this.state;\n    if (lawList.length === 0) {\n      return (\n        <div>\n          <div className='searchresult-container'>\n            <SearchBar />\n            <div className='searchresult-empty'>\n              <h3>\n                <p>검색 결과가 없습니다.</p>\n                <p>다른 검색어를 입력해주시기 바랍니다.</p>\n              </h3>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className='searchresult-container'>\n        <SearchBar />\n        <Row>\n          <Col md={1} />\n          <Col md={10}>\n            <Card className='searchresult-form'>\n              <Card.Header>\n                <Card.Title as='h5'>\n                  총&nbsp;\n                  {lawList.length}\n                  건의 결과\n                </Card.Title>\n              </Card.Header>\n              <Card.Body className='px-0 py-2'>\n                <Table responsive hover>\n                  <tbody>\n                    {pageOfItems.map((item, itemIndex) => (\n                      <tr\n                        key={itemIndex}\n                        className='searchresult-section'\n                        onClick={() => this.handleClickSearch(\n                          item.name,\n                          item.number,\n                          item.enforcement_date,\n                        )}\n                      >\n                        <td>\n                          <h4 className='mb-3'>{item.name}</h4>\n                          <p className='m-0'>\n                            <span className='searchresult-type'>\n                              {item.type}\n                            </span>\n                            <span className='searchresult-number'>\n                              {item.number}\n                              호\n                            </span>\n                            <span className='searchresult-admendment'>\n                              {item.amendment_status}\n                            </span>\n                            <span className='searchresult-ministry'>\n                              {item.ministry}\n                            </span>\n                            <span className='searchresult-promulgation'>\n                              시행일자 :&nbsp;\n                              {format(\n                                new Date(item.enforcement_date),\n                                'yyyy.MM.dd',\n                              )}\n                            </span>\n                            <span className='searchresult-enforcement'>\n                              공포일자 :&nbsp;\n                              {format(\n                                new Date(item.promulgation_date),\n                                'yyyy.MM.dd',\n                              )}\n                              &nbsp;\n                            </span>\n                          </p>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n                <div className='text-center'>\n                  <Pagination\n                    items={lawList}\n                    onChangePage={this.onChangePage}\n                  />\n                </div>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col md={1} />\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    lawList: state.searchList.lawList,\n    searchTerm: state.searchWord.searchWord,\n  }),\n  (dispatch) => ({\n    searchList: (data) => dispatch(searchList.searchList(data)),\n    searchWord: (data) => dispatch(searchWord.searchWord(data)),\n  }),\n)(withRouter(SearchResult));\n"]},"metadata":{},"sourceType":"module"}